

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Models &mdash; DFFML 5b53a7dbe documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Scorers" href="dffml_accuracy.html" />
    <link rel="prev" title="Sources" href="dffml_source.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> DFFML
          

          
          </a>

          
            
            
              <div class="version">
                5b53a7dbe
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/index.html">Concepts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/model.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Plugins</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="dffml_source.html">Sources</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dffml">dffml</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#slr">slr</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#dffml-model-scratch">dffml_model_scratch</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#anomalydetection">anomalydetection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scratchlgrsag">scratchlgrsag</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#dffml-model-xgboost">dffml_model_xgboost</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#xgbclassifier">xgbclassifier</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xgbregressor">xgbregressor</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#dffml-model-vowpalwabbit">dffml_model_vowpalWabbit</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#vwmodel">vwmodel</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#dffml-model-scikit">dffml_model_scikit</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dffml-model-daal4py">dffml_model_daal4py</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#daal4pylr">daal4pylr</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#dffml-model-pytorch">dffml_model_pytorch</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#alexnet">alexnet</a></li>
<li class="toctree-l4"><a class="reference internal" href="#densenet121">densenet121</a></li>
<li class="toctree-l4"><a class="reference internal" href="#densenet161">densenet161</a></li>
<li class="toctree-l4"><a class="reference internal" href="#densenet169">densenet169</a></li>
<li class="toctree-l4"><a class="reference internal" href="#densenet201">densenet201</a></li>
<li class="toctree-l4"><a class="reference internal" href="#googlenet">googlenet</a></li>
<li class="toctree-l4"><a class="reference internal" href="#inception-v3">inception_v3</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mnasnet0-5">mnasnet0_5</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mnasnet1-0">mnasnet1_0</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mobilenet-v2">mobilenet_v2</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pytorchnet">pytorchnet</a></li>
<li class="toctree-l4"><a class="reference internal" href="#resnet101">resnet101</a></li>
<li class="toctree-l4"><a class="reference internal" href="#resnet152">resnet152</a></li>
<li class="toctree-l4"><a class="reference internal" href="#resnet18">resnet18</a></li>
<li class="toctree-l4"><a class="reference internal" href="#resnet34">resnet34</a></li>
<li class="toctree-l4"><a class="reference internal" href="#resnet50">resnet50</a></li>
<li class="toctree-l4"><a class="reference internal" href="#resnext101-32x8d">resnext101_32x8d</a></li>
<li class="toctree-l4"><a class="reference internal" href="#resnext50-32x4d">resnext50_32x4d</a></li>
<li class="toctree-l4"><a class="reference internal" href="#shufflenet-v2-x0-5">shufflenet_v2_x0_5</a></li>
<li class="toctree-l4"><a class="reference internal" href="#shufflenet-v2-x1-0">shufflenet_v2_x1_0</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vgg11">vgg11</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vgg11-bn">vgg11_bn</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vgg13">vgg13</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vgg13-bn">vgg13_bn</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vgg16">vgg16</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vgg16-bn">vgg16_bn</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vgg19">vgg19</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vgg19-bn">vgg19_bn</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wide-resnet101-2">wide_resnet101_2</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wide-resnet50-2">wide_resnet50_2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#dffml-model-tensorflow">dffml_model_tensorflow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#tfdnnc">tfdnnc</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tfdnnr">tfdnnr</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#dffml-model-tensorflow-hub">dffml_model_tensorflow_hub</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#text-classifier">text_classifier</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#dffml-model-spacy">dffml_model_spacy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#spacyner">spacyner</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#dffml-model-autosklearn">dffml_model_autosklearn</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#autoclassifier">autoclassifier</a></li>
<li class="toctree-l4"><a class="reference internal" href="#autoregressor">autoregressor</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dffml_accuracy.html">Scorers</a></li>
<li class="toctree-l2"><a class="reference internal" href="dffml_tuner.html">Tuner</a></li>
<li class="toctree-l2"><a class="reference internal" href="dffml_operation.html">Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="dffml_service_cli.html">Services</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Command Line</a></li>
<li class="toctree-l1"><a class="reference internal" href="service/http/index.html">HTTP API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/base.html">Base</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/log.html">Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/noasync.html">Noasync</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/record.html">Record</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/version.html">Version</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/db/index.html">Db</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/cli/index.html">Cli</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/df/index.html">Df</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/high_level/index.html">High_Level</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/tuner/index.html">Tuner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/service/index.html">Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/util/index.html">Util</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/configloader/index.html">Configloader</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/accuracy/index.html">Accuracy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/source/index.html">Source</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/operation/index.html">Operation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/model/index.html">Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/secret/index.html">Secret</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/port/index.html">Port</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/feature/index.html">Feature</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arch/index.html">Architecture</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Subprojects</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../shouldi.html">shouldi</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Community</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/intel/dffml">GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://intel.github.io/dffml/main/">Master Branch Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../publications.html">Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contact.html">Contact Us</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../news/index.html">News</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DFFML</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          



















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Plugins</a> &raquo;</li>
        
      <li>Models</li>
    
    


  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="models">
<span id="plugin-models"></span><h1>Models<a class="headerlink" href="#models" title="Permalink to this heading">¶</a></h1>
<p>Models are implementations of <a class="reference internal" href="../api/model/model.html#dffml.model.model.Model" title="dffml.model.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">dffml.model.model.Model</span></code></a>, they
abstract the usage of machine learning models.</p>
<p>If you want to get started creating your own model, check out the
<a class="reference internal" href="../tutorials/models/index.html#model-tutorial"><span class="std std-ref">Models</span></a>.</p>
<p>You can load any of the models seen here using the
py:func:<cite>Model.load &lt;dffml.model.model.Model.load&gt;</cite> function.
See the <a class="reference internal" href="../tutorials/models/load.html"><span class="doc">Load Models Dynamically</span></a> tutorial for more deatils.
.. _plugin_model_dffml:</p>
<section id="dffml">
<h2>dffml<a class="headerlink" href="#dffml" title="Permalink to this heading">¶</a></h2>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pip install dffml</span>
</pre></div>
</div>
<section id="slr">
<span id="plugin-model-dffml-slr"></span><h3>slr<a class="headerlink" href="#slr" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>Logistic Regression training one variable to predict another.</p>
<p>The dataset used for training</p>
<p><strong>dataset.csv</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span><span class="p">,</span><span class="n">ans</span>
<span class="mf">0.1</span><span class="p">,</span><span class="mi">0</span>
<span class="mf">0.7</span><span class="p">,</span><span class="mi">1</span>
<span class="mf">0.6</span><span class="p">,</span><span class="mi">1</span>
<span class="mf">0.2</span><span class="p">,</span><span class="mi">0</span>
<span class="mf">0.8</span><span class="p">,</span><span class="mi">1</span>
</pre></div>
</div>
<p>Train the model</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dffml train <span class="se">\</span>
    -model slr <span class="se">\</span>
    -model-features f1:float:1 <span class="se">\</span>
    -model-predict ans:int:1 <span class="se">\</span>
    -model-location tempdir <span class="se">\</span>
    -sources <span class="nv">f</span><span class="o">=</span>csv <span class="se">\</span>
    -source-filename dataset.csv
</pre></div>
</div>
<p>Assess the accuracy</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dffml accuracy <span class="se">\</span>
    -model slr <span class="se">\</span>
    -model-features f1:float:1 <span class="se">\</span>
    -model-predict ans:int:1 <span class="se">\</span>
    -model-location tempdir <span class="se">\</span>
    -features ans:int:1 <span class="se">\</span>
    -sources <span class="nv">f</span><span class="o">=</span>csv <span class="se">\</span>
    -source-filename dataset.csv <span class="se">\</span>
    -scorer mse <span class="se">\</span>
<span class="m">1</span>.0
</pre></div>
</div>
<p>Make a prediction</p>
<p><strong>predict.csv</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span>
<span class="mf">0.8</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dffml predict all <span class="se">\</span>
    -model slr <span class="se">\</span>
    -model-features f1:float:1 <span class="se">\</span>
    -model-predict ans:int:1 <span class="se">\</span>
    -model-location tempdir <span class="se">\</span>
    -sources <span class="nv">f</span><span class="o">=</span>csv <span class="se">\</span>
    -source-filename predict.csv
<span class="go">[</span>
<span class="go">    {</span>
<span class="go">        &quot;extra&quot;: {},</span>
<span class="go">        &quot;features&quot;: {</span>
<span class="go">            &quot;f1&quot;: 0.8</span>
<span class="go">        },</span>
<span class="go">        &quot;key&quot;: &quot;0&quot;,</span>
<span class="go">        &quot;last_updated&quot;: &quot;2020-11-15T16:22:25Z&quot;,</span>
<span class="go">        &quot;prediction&quot;: {</span>
<span class="go">            &quot;ans&quot;: {</span>
<span class="go">                &quot;confidence&quot;: 0.9355670103092784,</span>
<span class="go">                &quot;value&quot;: 1</span>
<span class="go">            }</span>
<span class="go">        }</span>
<span class="go">    }</span>
<span class="go">]</span>
</pre></div>
</div>
<p>Example usage of Logistic Regression using Python</p>
<p><strong>slr.py</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dffml</span> <span class="kn">import</span> <span class="n">Features</span><span class="p">,</span> <span class="n">Feature</span><span class="p">,</span> <span class="n">SLRModel</span>
<span class="kn">from</span> <span class="nn">dffml.noasync</span> <span class="kn">import</span> <span class="n">train</span><span class="p">,</span> <span class="n">score</span><span class="p">,</span> <span class="n">predict</span>
<span class="kn">from</span> <span class="nn">dffml.accuracy</span> <span class="kn">import</span> <span class="n">MeanSquaredErrorAccuracy</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">SLRModel</span><span class="p">(</span>
    <span class="n">features</span><span class="o">=</span><span class="n">Features</span><span class="p">(</span><span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span>
    <span class="n">predict</span><span class="o">=</span><span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;ans&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">location</span><span class="o">=</span><span class="s2">&quot;tempdir&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Train the model</span>
<span class="n">train</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;dataset.csv&quot;</span><span class="p">)</span>

<span class="c1"># Assess accuracy (alternate way of specifying data source)</span>
<span class="n">scorer</span> <span class="o">=</span> <span class="n">MeanSquaredErrorAccuracy</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Accuracy:&quot;</span><span class="p">,</span> <span class="n">score</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">scorer</span><span class="p">,</span> <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;ans&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="s2">&quot;dataset.csv&quot;</span><span class="p">))</span>

<span class="c1"># Make prediction</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">features</span><span class="p">,</span> <span class="n">prediction</span> <span class="ow">in</span> <span class="n">predict</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;f1&quot;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span> <span class="s2">&quot;ans&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}):</span>
    <span class="n">features</span><span class="p">[</span><span class="s2">&quot;ans&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">prediction</span><span class="p">[</span><span class="s2">&quot;ans&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">features</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>python slr.py
<span class="go">Accuracy: 0.9355670103092784</span>
<span class="go">{&#39;f1&#39;: 0.8, &#39;ans&#39;: 1}</span>
</pre></div>
</div>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Label or the value to be predicted</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on. For SLR only 1 allowed</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="dffml-model-scratch">
<span id="plugin-model-dffml-model-scratch"></span><h2>dffml_model_scratch<a class="headerlink" href="#dffml-model-scratch" title="Permalink to this heading">¶</a></h2>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pip install dffml-model-scratch</span>
</pre></div>
</div>
<section id="anomalydetection">
<span id="plugin-model-dffml-model-scratch-anomalydetection"></span><h3>anomalydetection<a class="headerlink" href="#anomalydetection" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>Model for Anomaly Detection using multivariate Gaussian distribution to predict probabilities of all records in the dataset
and identify outliers. F1 score is used as the evaluation metric for this model. This model works well as it recognises dependencies
across various features, and works particularly well if the features have a Gaussian Distribution.</p>
<section id="examples">
<h4>Examples<a class="headerlink" href="#examples" title="Permalink to this heading">¶</a></h4>
<p>Command line usage</p>
<p>Create training and test datasets</p>
<p><strong>trainex.csv</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span><span class="p">,</span><span class="n">Y</span>
<span class="mf">0.65</span><span class="p">,</span><span class="mi">0</span>
<span class="mf">0.24</span><span class="p">,</span><span class="mi">0</span>
<span class="mf">0.93</span><span class="p">,</span><span class="mi">0</span>
<span class="mf">0.87</span><span class="p">,</span><span class="mi">0</span>
<span class="mf">0.23</span><span class="p">,</span><span class="mi">0</span>
<span class="mi">7</span><span class="p">,</span><span class="mi">1</span>
<span class="mf">0.86</span><span class="p">,</span><span class="mi">0</span>
<span class="mf">0.45</span><span class="p">,</span><span class="mi">0</span>
<span class="mf">0.55</span><span class="p">,</span><span class="mi">0</span>
<span class="mf">0.29</span><span class="p">,</span><span class="mi">0</span>
<span class="mi">5</span><span class="p">,</span><span class="mi">1</span>
<span class="mf">0.51</span><span class="p">,</span><span class="mi">0</span>
<span class="mf">0.88</span><span class="p">,</span><span class="mi">0</span>
<span class="mf">0.24</span><span class="p">,</span><span class="mi">0</span>
<span class="mf">0.51</span><span class="p">,</span><span class="mi">0</span>
<span class="mf">0.17</span><span class="p">,</span><span class="mi">0</span>
<span class="mi">9</span><span class="p">,</span><span class="mi">1</span>
<span class="mf">0.37</span><span class="p">,</span><span class="mi">0</span>
<span class="mf">0.23</span><span class="p">,</span><span class="mi">0</span>
<span class="mf">0.44</span><span class="p">,</span><span class="mi">0</span>
<span class="mf">0.62</span><span class="p">,</span><span class="mi">0</span>
<span class="mi">3</span><span class="p">,</span><span class="mi">1</span>
<span class="mf">0.87</span><span class="p">,</span><span class="mi">0</span>
</pre></div>
</div>
<p><strong>testex.csv</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span><span class="p">,</span><span class="n">Y</span>
<span class="mf">0.45</span><span class="p">,</span><span class="mi">0</span>
<span class="mf">0.23</span><span class="p">,</span><span class="mi">0</span>
<span class="mf">0.67</span><span class="p">,</span><span class="mi">0</span>
<span class="mi">8</span><span class="p">,</span><span class="mi">1</span>
<span class="mf">0.19</span><span class="p">,</span><span class="mi">0</span>
<span class="mf">0.34</span><span class="p">,</span><span class="mi">0</span>
<span class="mf">0.49</span><span class="p">,</span><span class="mi">0</span>
<span class="mf">0.31</span><span class="p">,</span><span class="mi">0</span>
<span class="mf">0.47</span><span class="p">,</span><span class="mi">0</span>
<span class="mi">4</span><span class="p">,</span><span class="mi">1</span>
</pre></div>
</div>
<p>Train the model</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dffml train <span class="se">\</span>
    -sources <span class="nv">f</span><span class="o">=</span>csv <span class="se">\</span>
    -source-filename trainex.csv <span class="se">\</span>
    -model anomalydetection <span class="se">\</span>
    -model-features A:float:2 <span class="se">\</span>
    -model-predict Y:int:1  <span class="se">\</span>
    -model-location tempdir
</pre></div>
</div>
<p>Assess the accuracy</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dffml accuracy <span class="se">\</span>
    -sources <span class="nv">f</span><span class="o">=</span>csv <span class="se">\</span>
    -source-filename testex.csv <span class="se">\</span>
    -model anomalydetection <span class="se">\</span>
    -model-features A:float:2 <span class="se">\</span>
    -model-predict Y:int:1 <span class="se">\</span>
    -model-location tempdir <span class="se">\</span>
    -features Y:int:1 <span class="se">\</span>
    -scorer anomalyscore
</pre></div>
</div>
<p>Make predictions</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dffml predict all <span class="se">\</span>
    -sources <span class="nv">f</span><span class="o">=</span>csv <span class="se">\</span>
    -source-filename testex.csv <span class="se">\</span>
    -model anomalydetection <span class="se">\</span>
    -model-features A:float:2 <span class="se">\</span>
    -model-predict Y:int:1 <span class="se">\</span>
    -model-location tempdir
</pre></div>
</div>
<p>Python usage</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dffml</span> <span class="kn">import</span> <span class="n">Feature</span><span class="p">,</span> <span class="n">Features</span>
<span class="kn">from</span> <span class="nn">dffml.noasync</span> <span class="kn">import</span> <span class="n">score</span><span class="p">,</span> <span class="n">train</span>

<span class="kn">from</span> <span class="nn">dffml_model_scratch.anomalydetection</span> <span class="kn">import</span> <span class="n">AnomalyModel</span>
<span class="kn">from</span> <span class="nn">dffml_model_scratch.anomaly_detection_scorer</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">AnomalyDetectionAccuracy</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Configure the model</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">AnomalyModel</span><span class="p">(</span>
    <span class="n">features</span><span class="o">=</span><span class="n">Features</span><span class="p">(</span><span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="mi">2</span><span class="p">),),</span>
    <span class="n">predict</span><span class="o">=</span><span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;Y&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">location</span><span class="o">=</span><span class="s2">&quot;model&quot;</span><span class="p">,</span>
<span class="p">)</span>


<span class="c1"># Train the model</span>
<span class="n">train</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;trainex.csv&quot;</span><span class="p">)</span>

<span class="c1"># Assess accuracy for test set</span>
<span class="n">scorer</span> <span class="o">=</span> <span class="n">AnomalyDetectionAccuracy</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="s2">&quot;Test set F1 score :&quot;</span><span class="p">,</span>
    <span class="n">score</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">scorer</span><span class="p">,</span> <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;Y&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="s2">&quot;testex.csv&quot;</span><span class="p">),</span>
<span class="p">)</span>

<span class="c1"># Assess accuracy for training set</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="s2">&quot;Training set F1 score :&quot;</span><span class="p">,</span>
    <span class="n">score</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">scorer</span><span class="p">,</span> <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;Y&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="s2">&quot;trainex.csv&quot;</span><span class="p">),</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Output</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>python detectoutliers.py
<span class="go">Test set F1 score : 0.8</span>
<span class="go">Training set F1 score : 0.888888888888889</span>
</pre></div>
</div>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>predict: Feature</p>
<ul>
<li><p>Label or the value to be predicted</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>k: float</p>
<ul>
<li><p>default: 0.8</p></li>
<li><p>Validation set size</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="scratchlgrsag">
<span id="plugin-model-dffml-model-scratch-scratchlgrsag"></span><h3>scratchlgrsag<a class="headerlink" href="#scratchlgrsag" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>Logistic Regression using stochastic average gradient descent optimizer</p>
<p>The dataset used for training</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="o">&gt;</span> <span class="n">dataset</span><span class="o">.</span><span class="n">csv</span> <span class="o">&lt;&lt;</span> <span class="n">EOF</span>
<span class="n">f1</span><span class="p">,</span><span class="n">ans</span>
<span class="mf">0.1</span><span class="p">,</span><span class="mi">0</span>
<span class="mf">0.7</span><span class="p">,</span><span class="mi">1</span>
<span class="mf">0.6</span><span class="p">,</span><span class="mi">1</span>
<span class="mf">0.2</span><span class="p">,</span><span class="mi">0</span>
<span class="mf">0.8</span><span class="p">,</span><span class="mi">1</span>
<span class="n">EOF</span>
</pre></div>
</div>
<p>Train the model</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dffml</span> <span class="n">train</span> \
  <span class="o">-</span><span class="n">model</span> <span class="n">scratchlgrsag</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">features</span> <span class="n">f1</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">predict</span> <span class="n">ans</span><span class="p">:</span><span class="nb">int</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">location</span> <span class="n">tempdir</span> \
  <span class="o">-</span><span class="n">sources</span> <span class="n">f</span><span class="o">=</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">source</span><span class="o">-</span><span class="n">filename</span> <span class="n">dataset</span><span class="o">.</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">log</span> <span class="n">debug</span>
</pre></div>
</div>
<p>Assess the accuracy</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dffml</span> <span class="n">accuracy</span> \
  <span class="o">-</span><span class="n">model</span> <span class="n">scratchlgrsag</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">features</span> <span class="n">f1</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">predict</span> <span class="n">ans</span><span class="p">:</span><span class="nb">int</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">location</span> <span class="n">tempdir</span> \
  <span class="o">-</span><span class="n">features</span> <span class="n">ans</span><span class="p">:</span><span class="nb">int</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">sources</span> <span class="n">f</span><span class="o">=</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">source</span><span class="o">-</span><span class="n">filename</span> <span class="n">dataset</span><span class="o">.</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">scorer</span> <span class="n">mse</span> \
  <span class="o">-</span><span class="n">log</span> <span class="n">debug</span>
</pre></div>
</div>
<p>Output</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">1.0</span>
</pre></div>
</div>
<p>Make a prediction</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="o">-</span><span class="n">e</span> <span class="s1">&#39;f1,ans</span><span class="se">\n</span><span class="s1">0.8,0</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">|</span> \
  <span class="n">dffml</span> <span class="n">predict</span> <span class="nb">all</span> \
  <span class="o">-</span><span class="n">model</span> <span class="n">scratchlgrsag</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">features</span> <span class="n">f1</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">predict</span> <span class="n">ans</span><span class="p">:</span><span class="nb">int</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">location</span> <span class="n">tempdir</span> \
  <span class="o">-</span><span class="n">sources</span> <span class="n">f</span><span class="o">=</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">source</span><span class="o">-</span><span class="n">filename</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">stdin</span> \
  <span class="o">-</span><span class="n">log</span> <span class="n">debug</span>
</pre></div>
</div>
<p>Output</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">[</span>
<span class="go">    {</span>
<span class="go">        &quot;extra&quot;: {},</span>
<span class="go">        &quot;features&quot;: {</span>
<span class="go">            &quot;ans&quot;: 0,</span>
<span class="go">            &quot;f1&quot;: 0.8</span>
<span class="go">        },</span>
<span class="go">        &quot;last_updated&quot;: &quot;2020-03-19T13:41:08Z&quot;,</span>
<span class="go">        &quot;prediction&quot;: {</span>
<span class="go">            &quot;ans&quot;: {</span>
<span class="go">                &quot;confidence&quot;: 1.0,</span>
<span class="go">                &quot;value&quot;: 1</span>
<span class="go">            }</span>
<span class="go">        },</span>
<span class="go">        &quot;key&quot;: &quot;0&quot;</span>
<span class="go">    }</span>
<span class="go">]</span>
</pre></div>
</div>
<p>Example usage of Logistic Regression using Python</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dffml</span> <span class="kn">import</span> <span class="n">CSVSource</span><span class="p">,</span> <span class="n">Features</span><span class="p">,</span> <span class="n">Feature</span>
<span class="kn">from</span> <span class="nn">dffml.noasync</span> <span class="kn">import</span> <span class="n">train</span><span class="p">,</span> <span class="n">score</span><span class="p">,</span> <span class="n">predict</span>
<span class="kn">from</span> <span class="nn">dffml.accuracy</span> <span class="kn">import</span> <span class="n">MeanSquaredErrorAccuracy</span>
<span class="kn">from</span> <span class="nn">dffml_model_scratch.logisticregression</span> <span class="kn">import</span> <span class="n">LogisticRegression</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">LogisticRegression</span><span class="p">(</span>
    <span class="n">features</span><span class="o">=</span><span class="n">Features</span><span class="p">(</span><span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span>
    <span class="n">predict</span><span class="o">=</span><span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;ans&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">location</span><span class="o">=</span><span class="s2">&quot;tempdir&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Train the model</span>
<span class="n">train</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;dataset.csv&quot;</span><span class="p">)</span>

<span class="c1"># Assess accuracy (alternate way of specifying data source)</span>
<span class="n">scorer</span> <span class="o">=</span> <span class="n">MeanSquaredErrorAccuracy</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="s2">&quot;Accuracy:&quot;</span><span class="p">,</span>
    <span class="n">score</span><span class="p">(</span>
        <span class="n">model</span><span class="p">,</span>
        <span class="n">scorer</span><span class="p">,</span>
        <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;ans&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="n">CSVSource</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;dataset.csv&quot;</span><span class="p">),</span>
    <span class="p">),</span>
<span class="p">)</span>

<span class="c1"># Make prediction</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">features</span><span class="p">,</span> <span class="n">prediction</span> <span class="ow">in</span> <span class="n">predict</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;f1&quot;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span> <span class="s2">&quot;ans&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}):</span>
    <span class="n">features</span><span class="p">[</span><span class="s2">&quot;ans&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">prediction</span><span class="p">[</span><span class="s2">&quot;ans&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">features</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Label or the value to be predicted</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="dffml-model-xgboost">
<span id="plugin-model-dffml-model-xgboost"></span><h2>dffml_model_xgboost<a class="headerlink" href="#dffml-model-xgboost" title="Permalink to this heading">¶</a></h2>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pip install dffml-model-xgboost</span>
</pre></div>
</div>
<p><strong>OSX Installation</strong></p>
<p>XGBoost on OSX requires libomp</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>brew install libomp
</pre></div>
</div>
<section id="xgbclassifier">
<span id="plugin-model-dffml-model-xgboost-xgbclassifier"></span><h3>xgbclassifier<a class="headerlink" href="#xgbclassifier" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>Model using xgboost to perform classification prediction via gradient boosted trees.
XGBoost is a leading software library for working with standard tabular data (the type of data you store in Pandas DataFrames,
as opposed to more exotic types of data like images and videos). With careful parameter tuning, you can train highly accurate models.</p>
<section id="id1">
<h4>Examples<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h4>
<p>Command line usage</p>
<p>First download the training and test files, change the headers to DFFML
format. The first row is an encoding of the classifications, we want CSV
headers for the column names.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ wget http://download.tensorflow.org/data/iris_training.csv
$ wget http://download.tensorflow.org/data/iris_test.csv
$ sed -i &#39;s/.*setosa,versicolor,virginica/SepalLength,SepalWidth,PetalLength,PetalWidth,classification/g&#39; iris_training.csv iris_test.csv
</pre></div>
</div>
<p>Run the train command</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dffml train <span class="se">\</span>
    -sources <span class="nv">train</span><span class="o">=</span>csv <span class="se">\</span>
    -source-filename iris_training.csv <span class="se">\</span>
    -model xgbclassifier <span class="se">\</span>
    -model-features <span class="se">\</span>
      SepalLength:float:1 <span class="se">\</span>
      SepalWidth:float:1 <span class="se">\</span>
      PetalLength:float:1 <span class="se">\</span>
      PetalWidth:float:1 <span class="se">\</span>
    -model-predict classification <span class="se">\</span>
    -model-location model <span class="se">\</span>
    -model-max_depth <span class="m">3</span> <span class="se">\</span>
    -model-learning_rate <span class="m">0</span>.01 <span class="se">\</span>
    -model-learning_rate <span class="m">0</span>.01 <span class="se">\</span>
    -model-n_estimators <span class="m">200</span> <span class="se">\</span>
    -model-reg_lambda <span class="m">1</span> <span class="se">\</span>
    -model-reg_alpha <span class="m">0</span> <span class="se">\</span>
    -model-gamma <span class="m">0</span> <span class="se">\</span>
    -model-colsample_bytree <span class="m">0</span> <span class="se">\</span>
    -model-subsample <span class="m">1</span>
</pre></div>
</div>
<p>Assess the accuracy</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dffml accuracy <span class="se">\</span>
    -sources <span class="nv">train</span><span class="o">=</span>csv <span class="se">\</span>
    -source-filename iris_test.csv <span class="se">\</span>
    -model xgbclassifier <span class="se">\</span>
    -model-features <span class="se">\</span>
      SepalLength:float:1 <span class="se">\</span>
      SepalWidth:float:1 <span class="se">\</span>
      PetalLength:float:1 <span class="se">\</span>
      PetalWidth:float:1 <span class="se">\</span>
    -model-predict classification <span class="se">\</span>
    -model-location model <span class="se">\</span>
    -features classification <span class="se">\</span>
    -scorer clf
</pre></div>
</div>
<p>Make predictions</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dffml predict all <span class="se">\</span>
    -sources <span class="nv">train</span><span class="o">=</span>csv <span class="se">\</span>
    -source-filename iris_test.csv <span class="se">\</span>
    -model xgbclassifier <span class="se">\</span>
    -model-features <span class="se">\</span>
      SepalLength:float:1 <span class="se">\</span>
      SepalWidth:float:1 <span class="se">\</span>
      PetalLength:float:1 <span class="se">\</span>
      PetalWidth:float:1 <span class="se">\</span>
    -model-predict classification <span class="se">\</span>
    -model-location model
</pre></div>
</div>
<p>Python usage</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_iris</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>

<span class="kn">from</span> <span class="nn">dffml</span> <span class="kn">import</span> <span class="n">Feature</span><span class="p">,</span> <span class="n">Features</span>
<span class="kn">from</span> <span class="nn">dffml.noasync</span> <span class="kn">import</span> <span class="n">train</span><span class="p">,</span> <span class="n">score</span>
<span class="kn">from</span> <span class="nn">dffml.accuracy</span> <span class="kn">import</span> <span class="n">ClassificationAccuracy</span>
<span class="kn">from</span> <span class="nn">dffml_model_xgboost.xgbclassifier</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">XGBClassifierModel</span><span class="p">,</span>
    <span class="n">XGBClassifierModelConfig</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">iris</span> <span class="o">=</span> <span class="n">load_iris</span><span class="p">()</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">iris</span><span class="p">[</span><span class="s2">&quot;target&quot;</span><span class="p">]</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">iris</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
<span class="n">trainX</span><span class="p">,</span> <span class="n">testX</span><span class="p">,</span> <span class="n">trainy</span><span class="p">,</span> <span class="n">testy</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span>
<span class="p">)</span>

<span class="c1"># Configure the model</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">XGBClassifierModel</span><span class="p">(</span>
    <span class="n">XGBClassifierModelConfig</span><span class="p">(</span>
        <span class="n">features</span><span class="o">=</span><span class="n">Features</span><span class="p">(</span><span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,)),</span>
        <span class="n">predict</span><span class="o">=</span><span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;target&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="n">location</span><span class="o">=</span><span class="s2">&quot;model&quot;</span><span class="p">,</span>
        <span class="n">max_depth</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
        <span class="n">learning_rate</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span>
        <span class="n">n_estimators</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
        <span class="n">reg_lambda</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">reg_alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">gamma</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">colsample_bytree</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">subsample</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Train the model</span>
<span class="n">train</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="o">*</span><span class="p">[{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">x</span><span class="p">,</span> <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="n">y</span><span class="p">}</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">trainX</span><span class="p">,</span> <span class="n">trainy</span><span class="p">)])</span>

<span class="c1"># Assess accuracy</span>
<span class="n">scorer</span> <span class="o">=</span> <span class="n">ClassificationAccuracy</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="s2">&quot;Test accuracy:&quot;</span><span class="p">,</span>
    <span class="n">score</span><span class="p">(</span>
        <span class="n">model</span><span class="p">,</span>
        <span class="n">scorer</span><span class="p">,</span>
        <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;target&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="o">*</span><span class="p">[{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">x</span><span class="p">,</span> <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="n">y</span><span class="p">}</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">testX</span><span class="p">,</span> <span class="n">testy</span><span class="p">)],</span>
    <span class="p">),</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="s2">&quot;Training accuracy:&quot;</span><span class="p">,</span>
    <span class="n">score</span><span class="p">(</span>
        <span class="n">model</span><span class="p">,</span>
        <span class="n">scorer</span><span class="p">,</span>
        <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;target&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="o">*</span><span class="p">[{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">x</span><span class="p">,</span> <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="n">y</span><span class="p">}</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">trainX</span><span class="p">,</span> <span class="n">trainy</span><span class="p">)],</span>
    <span class="p">),</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Output</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Test</span> <span class="n">accuracy</span><span class="p">:</span> <span class="mf">0.933333333333333</span>
<span class="n">Training</span> <span class="n">accuracy</span><span class="p">:</span> <span class="mf">0.9703703703703703</span>
</pre></div>
</div>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>location: Path</p>
<ul>
<li><p>Location where model should be saved</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features on which we train the model</p></li>
</ul>
</li>
<li><p>predict: Feature</p>
<ul>
<li><p>Value to be predicted</p></li>
</ul>
</li>
<li><p>learning_rate: float</p>
<ul>
<li><p>default: 0.3</p></li>
<li><p>Learning rate to train with</p></li>
</ul>
</li>
<li><p>n_estimators: Integer</p>
<ul>
<li><p>default: 100</p></li>
<li><p>Number of gradient boosted trees. Equivalent to the number of boosting rounds</p></li>
</ul>
</li>
<li><p>max_depth: Integer</p>
<ul>
<li><p>default: 6</p></li>
<li><p>Maximium tree depth for base learners</p></li>
</ul>
</li>
<li><p>objective: String</p>
<ul>
<li><p>default: multi:softmax</p></li>
<li><p>Objective in training</p></li>
</ul>
</li>
<li><p>subsample: float</p>
<ul>
<li><p>default: 1</p></li>
<li><p>Subsample ratio of the training instance</p></li>
</ul>
</li>
<li><p>gamma: float</p>
<ul>
<li><p>default: 0</p></li>
<li><p>Minimium loss reduction required to make a furthre partition on a leaf node</p></li>
</ul>
</li>
<li><p>n_jobs: Integer</p>
<ul>
<li><p>default: -1</p></li>
<li><p>Number of parallel threads used to run xgboost</p></li>
</ul>
</li>
<li><p>colsample_bytree: float</p>
<ul>
<li><p>default: 1</p></li>
<li><p>Subsample ratio of columns when constructing each tree</p></li>
</ul>
</li>
<li><p>booster: String</p>
<ul>
<li><p>default: gbtree</p></li>
<li><p>Specify which booster to use: gbtree, gblinear or dart</p></li>
</ul>
</li>
<li><p>min_child_weight: float</p>
<ul>
<li><p>default: 1</p></li>
<li><p>Minimum sum of instance weight(hessian) needed in a child</p></li>
</ul>
</li>
<li><p>reg_lambda: float</p>
<ul>
<li><p>default: 1</p></li>
<li><p>L2 regularization term on weights. Increasing this value will make model more conservative</p></li>
</ul>
</li>
<li><p>reg_alpha: float</p>
<ul>
<li><p>default: 0</p></li>
<li><p>L1 regularization term on weights. Increasing this value will make model more conservative</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="xgbregressor">
<span id="plugin-model-dffml-model-xgboost-xgbregressor"></span><h3>xgbregressor<a class="headerlink" href="#xgbregressor" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>Model using xgboost to perform regression prediction via gradient boosted trees
XGBoost is a leading software library for working with standard tabular data (the type of data you store in Pandas DataFrames,
as opposed to more exotic types of data like images and videos). With careful parameter tuning, you can train highly accurate models.</p>
<section id="id2">
<h4>Examples<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h4>
<p>Command line usage</p>
<p>First download the training and test files, change the headers to DFFML
format.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ wget http://download.tensorflow.org/data/iris_training.csv
$ wget http://download.tensorflow.org/data/iris_test.csv
$ sed -i &#39;s/.*setosa,versicolor,virginica/SepalLength,SepalWidth,PetalLength,PetalWidth,classification/g&#39; iris_training.csv iris_test.csv
</pre></div>
</div>
<p>Run the train command</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dffml train <span class="se">\</span>
    -sources <span class="nv">train</span><span class="o">=</span>csv <span class="se">\</span>
    -source-filename iris_training.csv <span class="se">\</span>
    -model xgbregressor <span class="se">\</span>
    -model-features <span class="se">\</span>
      SepalLength:float:1 <span class="se">\</span>
      SepalWidth:float:1 <span class="se">\</span>
      PetalLength:float:1 <span class="se">\</span>
      PetalWidth:float:1 <span class="se">\</span>
    -model-predict classification <span class="se">\</span>
    -model-location model <span class="se">\</span>
    -model-max_depth <span class="m">3</span> <span class="se">\</span>
    -model-learning_rate <span class="m">0</span>.01 <span class="se">\</span>
    -model-n_estimators <span class="m">200</span> <span class="se">\</span>
    -model-reg_lambda <span class="m">1</span> <span class="se">\</span>
    -model-reg_alpha <span class="m">0</span> <span class="se">\</span>
    -model-gamma <span class="m">0</span> <span class="se">\</span>
    -model-colsample_bytree <span class="m">0</span> <span class="se">\</span>
    -model-subsample <span class="m">1</span>
</pre></div>
</div>
<p>Assess the accuracy</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dffml accuracy <span class="se">\</span>
    -sources <span class="nv">train</span><span class="o">=</span>csv <span class="se">\</span>
    -source-filename iris_test.csv <span class="se">\</span>
    -model xgbregressor <span class="se">\</span>
    -model-features <span class="se">\</span>
      SepalLength:float:1 <span class="se">\</span>
      SepalWidth:float:1 <span class="se">\</span>
      PetalLength:float:1 <span class="se">\</span>
      PetalWidth:float:1 <span class="se">\</span>
    -model-predict classification <span class="se">\</span>
    -model-location model <span class="se">\</span>
    -features classification <span class="se">\</span>
    -scorer mse
</pre></div>
</div>
<p>Output</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">accuracy</span><span class="p">:</span> <span class="mf">0.8841466984766406</span>
</pre></div>
</div>
<p>Make predictions</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dffml predict all <span class="se">\</span>
    -sources <span class="nv">train</span><span class="o">=</span>csv <span class="se">\</span>
    -source-filename iris_test.csv <span class="se">\</span>
    -model xgbregressor <span class="se">\</span>
    -model-features <span class="se">\</span>
      SepalLength:float:1 <span class="se">\</span>
      SepalWidth:float:1 <span class="se">\</span>
      PetalLength:float:1 <span class="se">\</span>
      PetalWidth:float:1 <span class="se">\</span>
    -model-predict classification <span class="se">\</span>
    -model-location model
</pre></div>
</div>
<p>Python usage</p>
<p><strong>run.py</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_diabetes</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>

<span class="kn">from</span> <span class="nn">dffml</span> <span class="kn">import</span> <span class="n">Feature</span><span class="p">,</span> <span class="n">Features</span>
<span class="kn">from</span> <span class="nn">dffml.noasync</span> <span class="kn">import</span> <span class="n">train</span><span class="p">,</span> <span class="n">score</span>
<span class="kn">from</span> <span class="nn">dffml_model_xgboost.xgbregressor</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">XGBRegressorModel</span><span class="p">,</span>
    <span class="n">XGBRegressorModelConfig</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">dffml.accuracy</span> <span class="kn">import</span> <span class="n">MeanSquaredErrorAccuracy</span>


<span class="n">diabetes</span> <span class="o">=</span> <span class="n">load_diabetes</span><span class="p">()</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">diabetes</span><span class="p">[</span><span class="s2">&quot;target&quot;</span><span class="p">]</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">diabetes</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
<span class="n">trainX</span><span class="p">,</span> <span class="n">testX</span><span class="p">,</span> <span class="n">trainy</span><span class="p">,</span> <span class="n">testy</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span>
<span class="p">)</span>

<span class="c1"># Configure the model</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">XGBRegressorModel</span><span class="p">(</span>
    <span class="n">XGBRegressorModelConfig</span><span class="p">(</span>
        <span class="n">features</span><span class="o">=</span><span class="n">Features</span><span class="p">(</span><span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">10</span><span class="p">)),</span>
        <span class="n">predict</span><span class="o">=</span><span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;target&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="n">location</span><span class="o">=</span><span class="s2">&quot;model&quot;</span><span class="p">,</span>
        <span class="n">max_depth</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
        <span class="n">learning_rate</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
        <span class="n">n_estimators</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
        <span class="n">reg_lambda</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
        <span class="n">reg_alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">gamma</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
        <span class="n">colsample_bytree</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
        <span class="n">subsample</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Train the model</span>
<span class="n">train</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="o">*</span><span class="p">[{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">x</span><span class="p">,</span> <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="n">y</span><span class="p">}</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">trainX</span><span class="p">,</span> <span class="n">trainy</span><span class="p">)])</span>

<span class="c1"># Assess accuracy</span>
<span class="n">scorer</span> <span class="o">=</span> <span class="n">MeanSquaredErrorAccuracy</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="s2">&quot;Test accuracy:&quot;</span><span class="p">,</span>
    <span class="n">score</span><span class="p">(</span>
        <span class="n">model</span><span class="p">,</span>
        <span class="n">scorer</span><span class="p">,</span>
        <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;target&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="o">*</span><span class="p">[{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">x</span><span class="p">,</span> <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="n">y</span><span class="p">}</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">testX</span><span class="p">,</span> <span class="n">testy</span><span class="p">)],</span>
    <span class="p">),</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span>
    <span class="s2">&quot;Training accuracy:&quot;</span><span class="p">,</span>
    <span class="n">score</span><span class="p">(</span>
        <span class="n">model</span><span class="p">,</span>
        <span class="n">scorer</span><span class="p">,</span>
        <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;target&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="o">*</span><span class="p">[{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">x</span><span class="p">,</span> <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="n">y</span><span class="p">}</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">trainX</span><span class="p">,</span> <span class="n">trainy</span><span class="p">)],</span>
    <span class="p">),</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Output</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python run.py
Test accuracy: 0.6669655406927468
Training accuracy: 0.819782501866115
</pre></div>
</div>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>location: Path</p>
<ul>
<li><p>Location where model should be saved</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features on which we train the model</p></li>
</ul>
</li>
<li><p>predict: Feature</p>
<ul>
<li><p>Value to be predicted</p></li>
</ul>
</li>
<li><p>learning_rate: float</p>
<ul>
<li><p>default: 0.05</p></li>
<li><p>Learning rate to train with</p></li>
</ul>
</li>
<li><p>n_estimators: Integer</p>
<ul>
<li><p>default: 1000</p></li>
<li><p>Number of gradient boosted trees. Equivalent to the number of boosting rounds</p></li>
</ul>
</li>
<li><p>max_depth: Integer</p>
<ul>
<li><p>default: 6</p></li>
<li><p>Maximium tree depth for base learners</p></li>
</ul>
</li>
<li><p>subsample: float</p>
<ul>
<li><p>default: 1</p></li>
<li><p>Subsample ratio of the training instance</p></li>
</ul>
</li>
<li><p>gamma: float</p>
<ul>
<li><p>default: 0</p></li>
<li><p>Minimium loss reduction required to make a furthre partition on a leaf node</p></li>
</ul>
</li>
<li><p>n_jobs: Integer</p>
<ul>
<li><p>default: -1</p></li>
<li><p>Number of parallel threads used to run xgboost</p></li>
</ul>
</li>
<li><p>colsample_bytree: float</p>
<ul>
<li><p>default: 1</p></li>
<li><p>Subsample ratio of columns when constructing each tree</p></li>
</ul>
</li>
<li><p>booster: String</p>
<ul>
<li><p>default: gbtree</p></li>
<li><p>Specify which booster to use: gbtree, gblinear or dart</p></li>
</ul>
</li>
<li><p>min_child_weight: float</p>
<ul>
<li><p>default: 0</p></li>
<li><p>Minimum sum of instance weight(hessian) needed in a child</p></li>
</ul>
</li>
<li><p>reg_lambda: float</p>
<ul>
<li><p>default: 1</p></li>
<li><p>L2 regularization term on weights. Increasing this value will make model more conservative</p></li>
</ul>
</li>
<li><p>reg_alpha: float</p>
<ul>
<li><p>default: 0</p></li>
<li><p>L1 regularization term on weights. Increasing this value will make model more conservative</p></li>
</ul>
</li>
</ul>
</section>
</section>
</section>
<section id="dffml-model-vowpalwabbit">
<span id="plugin-model-dffml-model-vowpalwabbit"></span><h2>dffml_model_vowpalWabbit<a class="headerlink" href="#dffml-model-vowpalwabbit" title="Permalink to this heading">¶</a></h2>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pip install dffml-model-vowpalWabbit</span>
</pre></div>
</div>
<section id="vwmodel">
<span id="plugin-model-dffml-model-vowpalwabbit-vwmodel"></span><h3>vwmodel<a class="headerlink" href="#vwmodel" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>Implemented using Vowpal Wabbit.</p>
<p>First we create the training and testing datasets</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="o">&gt;</span> <span class="n">train</span><span class="o">.</span><span class="n">csv</span> <span class="o">&lt;&lt;</span> <span class="n">EOF</span>
<span class="n">A</span><span class="p">,</span><span class="n">B</span>
<span class="o">|</span> <span class="n">price</span><span class="p">:</span><span class="mf">.23</span> <span class="n">sqft</span><span class="p">:</span><span class="mf">.25</span> <span class="n">age</span><span class="p">:</span><span class="mf">.05</span> <span class="mi">2006</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span>
<span class="o">|</span> <span class="n">price</span><span class="p">:</span><span class="mf">.18</span> <span class="n">sqft</span><span class="p">:</span><span class="mf">.15</span> <span class="n">age</span><span class="p">:</span><span class="mf">.35</span> <span class="mi">1976</span><span class="p">,</span><span class="mi">1</span>
<span class="o">|</span> <span class="n">price</span><span class="p">:</span><span class="mf">.53</span> <span class="n">sqft</span><span class="p">:</span><span class="mf">.32</span> <span class="n">age</span><span class="p">:</span><span class="mf">.87</span> <span class="mi">1924</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span>
<span class="n">EOF</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="o">&gt;</span> <span class="n">test</span><span class="o">.</span><span class="n">csv</span> <span class="o">&lt;&lt;</span> <span class="n">EOF</span>
<span class="n">A</span>
<span class="o">|</span> <span class="n">price</span><span class="p">:</span><span class="mf">.46</span> <span class="n">sqft</span><span class="p">:</span><span class="mf">.4</span> <span class="n">age</span><span class="p">:</span><span class="mf">.10</span> <span class="mi">1924</span>
<span class="n">EOF</span>
</pre></div>
</div>
<p>Train the model</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dffml</span> <span class="n">train</span> \
  <span class="o">-</span><span class="n">model</span> <span class="n">vwmodel</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">features</span> \
    <span class="n">A</span><span class="p">:</span><span class="nb">str</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">predict</span> \
    <span class="n">B</span><span class="p">:</span><span class="nb">int</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">noconvert</span> \
  <span class="o">-</span><span class="n">sources</span> <span class="n">f</span><span class="o">=</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">source</span><span class="o">-</span><span class="n">filename</span> <span class="n">train</span><span class="o">.</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">location</span> <span class="n">tempdir</span>
</pre></div>
</div>
<p>Assess the accuracy</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dffml</span> <span class="n">accuracy</span>  \
  <span class="o">-</span><span class="n">model</span> <span class="n">vwmodel</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">features</span> \
    <span class="n">A</span><span class="p">:</span><span class="nb">str</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">predict</span> \
    <span class="n">B</span><span class="p">:</span><span class="nb">int</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">noconvert</span> \
  <span class="o">-</span><span class="n">features</span> <span class="n">B</span><span class="p">:</span><span class="nb">int</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">scorer</span> <span class="n">mse</span> \
  <span class="o">-</span><span class="n">sources</span> <span class="n">f</span><span class="o">=</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">source</span><span class="o">-</span><span class="n">filename</span> <span class="n">train</span><span class="o">.</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">location</span> <span class="n">tempdir</span>

</pre></div>
</div>
<p>Output</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">0.38683876649129145</span>
</pre></div>
</div>
<p>Make a prediction</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dffml</span> <span class="n">predict</span> <span class="nb">all</span> \
  <span class="o">-</span><span class="n">model</span> <span class="n">vwmodel</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">features</span> \
    <span class="n">A</span><span class="p">:</span><span class="nb">str</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">predict</span> \
    <span class="n">B</span><span class="p">:</span><span class="nb">int</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">noconvert</span> \
  <span class="o">-</span><span class="n">sources</span> <span class="n">f</span><span class="o">=</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">source</span><span class="o">-</span><span class="n">filename</span> <span class="n">test</span><span class="o">.</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">location</span> <span class="n">tempdir</span>
</pre></div>
</div>
<p>Output</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;extra&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;features&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;A&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;| price:.46 sqft:.4 age:.10 1924&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;last_updated&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2020-05-29T16:36:57Z&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;prediction&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;B&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;confidence&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.38683876649129145</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">]</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>features: List of features</p></li>
<li><p>predict: Feature</p>
<ul>
<li><p>Feature to predict</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>class_cost: List of features</p>
<ul>
<li><p>default: None</p></li>
<li><p>Features with name <cite>Cost_{class}</cite> containing cost of <cite>class</cite> for each input example, used when <cite>csoaa</cite> is used</p></li>
</ul>
</li>
<li><p>task: String</p>
<ul>
<li><p>default: regression</p></li>
<li><p>Task to perform, possible values are <cite>classification</cite>, <cite>regression</cite></p></li>
</ul>
</li>
<li><p>use_binary_label: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Convert target labels to -1 and 1 for binary classification</p></li>
</ul>
</li>
<li><p>vwcmd: List of strings</p>
<ul>
<li><p>default: []</p></li>
<li><p>Command Line Arguments as per vowpal wabbit convention</p></li>
</ul>
</li>
<li><p>namespace: List of strings</p>
<ul>
<li><p>default: []</p></li>
<li><p>Namespace for input features. Should be in format {namespace}_{feature name}</p></li>
</ul>
</li>
<li><p>importance: Feature</p>
<ul>
<li><p>default: None</p></li>
<li><p>Feature containing <cite>importance</cite> of each example, used in conversion of input data to vowpal wabbit input format</p></li>
</ul>
</li>
<li><p>base: Feature</p>
<ul>
<li><p>default: None</p></li>
<li><p>Feature containing <cite>base</cite> for each example, used for residual regression</p></li>
</ul>
</li>
<li><p>tag: Feature</p>
<ul>
<li><p>default: None</p></li>
<li><p>Feature to be used as <cite>tag</cite> in conversion of data to vowpal wabbit input format</p></li>
</ul>
</li>
<li><p>noconvert: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Do not convert record features to vowpal wabbit input format</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="dffml-model-scikit">
<span id="plugin-model-dffml-model-scikit"></span><h2>dffml_model_scikit<a class="headerlink" href="#dffml-model-scikit" title="Permalink to this heading">¶</a></h2>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pip install dffml-model-scikit</span>
</pre></div>
</div>
<p>Machine Learning models implemented with <a class="reference external" href="https://scikit-learn.org/stable/">scikit-learn</a>.
Models are saved under the directory in subdirectories named after the hash of
their feature names.</p>
<p><strong>General Usage:</strong></p>
<p>Training:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dffml train <span class="se">\</span>
    -model SCIKIT_MODEL_ENTRYPOINT <span class="se">\</span>
    -model-features FEATURE_DEFINITION <span class="se">\</span>
    -model-predict TO_PREDICT <span class="se">\</span>
    -model-location MODEL_DIRECTORY <span class="se">\</span>
    -model-SCIKIT_PARAMETER_NAME SCIKIT_PARAMETER_VALUE <span class="se">\</span>
    -sources <span class="nv">f</span><span class="o">=</span>TRAINING_DATA_SOURCE_TYPE <span class="se">\</span>
    -source-filename TRAINING_DATA_FILE_NAME <span class="se">\</span>
    -log debug
</pre></div>
</div>
<p>Testing and Accuracy:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dffml accuracy <span class="se">\</span>
    -model SCIKIT_MODEL_ENTRYPOINT <span class="se">\</span>
    -model-features FEATURE_DEFINITION <span class="se">\</span>
    -model-predict TO_PREDICT <span class="se">\</span>
    -model-location MODEL_DIRECTORY <span class="se">\</span>
    -features TO_PREDICT <span class="se">\</span>
    -sources <span class="nv">f</span><span class="o">=</span>TESTING_DATA_SOURCE_TYPE <span class="se">\</span>
    -source-filename TESTING_DATA_FILE_NAME <span class="se">\</span>
    -scorer ACCURACY_SCORER <span class="se">\</span>
    -log debug
</pre></div>
</div>
<p>Predicting with trained model:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dffml predict all <span class="se">\</span>
    -model SCIKIT_MODEL_ENTRYPOINT <span class="se">\</span>
    -model-features FEATURE_DEFINITION <span class="se">\</span>
    -model-predict TO_PREDICT <span class="se">\</span>
    -model-location MODEL_DIRECTORY <span class="se">\</span>
    -sources <span class="nv">f</span><span class="o">=</span>PREDICT_DATA_SOURCE_TYPE <span class="se">\</span>
    -source-filename PREDICT_DATA_FILE_NAME <span class="se">\</span>
    -log debug
</pre></div>
</div>
<p><strong>Models Available:</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Model</p></th>
<th class="head"><p>Entrypoint</p></th>
<th class="head"><p>Parameters</p></th>
<th class="head"><p>Multi-Output</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="12"><p>Regression</p></td>
<td><p>LinearRegression</p></td>
<td><p>scikitlr</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LinearRegression.html#sklearn.linear_model.LinearRegression/">scikitlr</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>ElasticNet</p></td>
<td><p>scikiteln</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.ElasticNet.html#sklearn.linear_model.ElasticNet/">scikiteln</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>RandomForestRegressor</p></td>
<td><p>scikitrfr</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestRegressor.html">scikitrfr</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>BayesianRidge</p></td>
<td><p>scikitbyr</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.BayesianRidge.html#sklearn.linear_model.BayesianRidge/">scikitbyr</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Lasso</p></td>
<td><p>scikitlas</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.Lasso.html#sklearn.linear_model.Lasso/">scikitlas</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>ARDRegression</p></td>
<td><p>scikitard</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.ARDRegression.html#sklearn.linear_model.ARDRegression/">scikitard</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>RANSACRegressor</p></td>
<td><p>scikitrsc</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.RANSACRegressor.html#sklearn.linear_model.RANSACRegressor/">scikitrsc</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>DecisionTreeRegressor</p></td>
<td><p>scikitdtr</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.tree.DecisionTreeRegressor.html#sklearn.tree.DecisionTreeRegressor/">scikitdtr</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>GaussianProcessRegressor</p></td>
<td><p>scikitgpr</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.gaussian_process.GaussianProcessRegressor.html#sklearn.gaussian_process.GaussianProcessRegressor/">scikitgpr</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>OrthogonalMatchingPursuit</p></td>
<td><p>scikitomp</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.OrthogonalMatchingPursuit.html#sklearn.linear_model.OrthogonalMatchingPursuit/">scikitomp</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Lars</p></td>
<td><p>scikitlars</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.Lars.html#sklearn.linear_model.Lars/">scikitlars</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Ridge</p></td>
<td><p>scikitridge</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.Ridge.html#sklearn.linear_model.Ridge/">scikitridge</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td rowspan="16"><p>Classification</p></td>
<td><p>KNeighborsClassifier</p></td>
<td><p>scikitknn</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.neighbors.KNeighborsClassifier.html#sklearn.neighbors.KNeighborsClassifier/">scikitknn</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>AdaBoostClassifier</p></td>
<td><p>scikitadaboost</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.AdaBoostClassifier.html#sklearn.ensemble.AdaBoostClassifier/">scikitadaboost</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>GaussianProcessClassifier</p></td>
<td><p>scikitgpc</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.gaussian_process.GaussianProcessClassifier.html#sklearn.gaussian_process.GaussianProcessClassifier/">scikitgpc</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>DecisionTreeClassifier</p></td>
<td><p>scikitdtc</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.tree.DecisionTreeClassifier.html#sklearn.tree.DecisionTreeClassifier/">scikitdtc</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>RandomForestClassifier</p></td>
<td><p>scikitrfc</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestClassifier.html#sklearn.ensemble.RandomForestClassifier/">scikitrfc</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>QuadraticDiscriminantAnalysis</p></td>
<td><p>scikitqda</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.discriminant_analysis.QuadraticDiscriminantAnalysis.html#sklearn.discriminant_analysis.QuadraticDiscriminantAnalysis/">scikitqda</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>MLPClassifier</p></td>
<td><p>scikitmlp</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.neural_network.MLPClassifier.html#sklearn.neural_network.MLPClassifier/">scikitmlp</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>GaussianNB</p></td>
<td><p>scikitgnb</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.naive_bayes.GaussianNB.html#sklearn.naive_bayes.GaussianNB/">scikitgnb</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>SVC</p></td>
<td><p>scikitsvc</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.svm.SVC.html#sklearn.svm.SVC/">scikitsvc</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>LogisticRegression</p></td>
<td><p>scikitlor</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LogisticRegression.html#sklearn.linear_model.LogisticRegression/">scikitlor</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>GradientBoostingClassifier</p></td>
<td><p>scikitgbc</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.GradientBoostingClassifier.html#sklearn.ensemble.GradientBoostingClassifier/">scikitgbc</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>BernoulliNB</p></td>
<td><p>scikitbnb</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.naive_bayes.BernoulliNB.html#sklearn.naive_bayes.BernoulliNB/">scikitbnb</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>ExtraTreesClassifier</p></td>
<td><p>scikitetc</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.ExtraTreesClassifier.html#sklearn.ensemble.ExtraTreesClassifier/">scikitetc</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>BaggingClassifier</p></td>
<td><p>scikitbgc</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.BaggingClassifier.html#sklearn.ensemble.BaggingClassifier/">scikitbgc</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>LinearDiscriminantAnalysis</p></td>
<td><p>scikitlda</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.discriminant_analysis.LinearDiscriminantAnalysis.html#sklearn.discriminant_analysis.LinearDiscriminantAnalysis/">scikitlda</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>MultinomialNB</p></td>
<td><p>scikitmnb</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.naive_bayes.MultinomialNB.html#sklearn.naive_bayes.MultinomialNB/">scikitmnb</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td rowspan="8"><p>Clustering</p></td>
<td><p>KMeans</p></td>
<td><p>scikitkmeans</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.cluster.KMeans.html#sklearn.cluster.KMeans/">scikitkmeans</a></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>Birch</p></td>
<td><p>scikitbirch</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.cluster.Birch.html#sklearn.cluster.Birch/">scikitbirch</a></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>MiniBatchKMeans</p></td>
<td><p>scikitmbkmeans</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.cluster.MiniBatchKMeans.html#sklearn.cluster.MiniBatchKMeans/">scikitmbkmeans</a></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>AffinityPropagation</p></td>
<td><p>scikitap</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.cluster.AffinityPropagation.html#sklearn.cluster.AffinityPropagation/">scikitap</a></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>MeanShift</p></td>
<td><p>scikitms</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.cluster.MeanShift.html#sklearn.cluster.MeanShift/">scikitms</a></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>SpectralClustering</p></td>
<td><p>scikitsc</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.cluster.SpectralClustering.html#sklearn.cluster.SpectralClustering/">scikitsc</a></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>AgglomerativeClustering</p></td>
<td><p>scikitac</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.cluster.AgglomerativeClustering.html#sklearn.cluster.AgglomerativeClustering/">scikitac</a></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>OPTICS</p></td>
<td><p>scikitoptics</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.cluster.OPTICS.html#sklearn.cluster.OPTICS/">scikitoptics</a></p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<p><strong>Scorers Available:</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Scorer</p></th>
<th class="head"><p>Entrypoint</p></th>
<th class="head"><p>Parameters</p></th>
<th class="head"><p>Multi-Output</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="10"><p>Regression</p></td>
<td><p>Explained Variance Score</p></td>
<td><p>exvscore</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.explained_variance_score.html#sklearn.metrics.explained_variance_score/">exvscore</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Max Error</p></td>
<td><p>maxerr</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.max_error.html#sklearn.metrics.max_error/">maxerr</a></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>Mean Absolute Error</p></td>
<td><p>meanabserr</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.mean_absolute_error.html#sklearn.metrics.mean_absolute_error/">meanabserr</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Mean Squared Error</p></td>
<td><p>meansqrerr</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.mean_squared_error.html#sklearn.metrics.mean_squared_error/">meansqrerr</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Mean Squared Log Error</p></td>
<td><p>meansqrlogerr</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.mean_squared_log_error.html#sklearn.metrics.mean_squared_log_error/">meansqrlogerr</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Median Absolute Error</p></td>
<td><p>medabserr</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.median_absolute_error.html#sklearn.metrics.median_absolute_error/">medabserr</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>R2 Score</p></td>
<td><p>r2score</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.r2_score.html#sklearn.metrics.r2_score/">r2score</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Mean Poisson Deviance</p></td>
<td><p>meanpoidev</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.mean_poisson_deviance.html#sklearn.metrics.mean_poisson_deviance/">meanpoidev</a></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>Mean Gamma Deviance</p></td>
<td><p>meangammadev</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.mean_gamma_deviance.html#sklearn.metrics.mean_gamma_deviance/">meangammadev</a></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>Mean Absolute Percentage Error</p></td>
<td><p>meanabspererr</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.mean_absolute_percentage_error.html#sklearn.metrics.mean_absolute_percentage_error/">meanabspererr</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td rowspan="11"><p>Classification</p></td>
<td><p>Accuracy Score</p></td>
<td><p>acscore</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.accuracy_score.html#sklearn.metrics.accuracy_score/">acscore</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Balanced Accuracy Score</p></td>
<td><p>bacscore</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.balanced_accuracy_score.html#sklearn.metrics.balanced_accuracy_score/">bacscore</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Top K Accuracy Score</p></td>
<td><p>topkscore</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.top_k_accuracy_score.html#sklearn.metrics.top_k_accuracy_score/">topkscore</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Average Precision Score</p></td>
<td><p>avgprescore</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.average_precision_score.html#sklearn.metrics.average_precision_score/">avgprescore</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Brier Score Loss</p></td>
<td><p>brierscore</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.brier_score_loss.html#sklearn.metrics.brier_score_loss/">brierscore</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>F1 Score</p></td>
<td><p>f1score</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.f1_score.html#sklearn.metrics.f1_score/">f1score</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Log Loss</p></td>
<td><p>logloss</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.log_loss.html#sklearn.metrics.log_loss/">logloss</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Precision Score</p></td>
<td><p>prescore</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.precision_score.html#sklearn.metrics.precision_score/">prescore</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Recall Score</p></td>
<td><p>recallscore</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.recall_score.html#sklearn.metrics.recall_score/">recallscore</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Jaccard Score</p></td>
<td><p>jacscore</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.jaccard_score.html#sklearn.metrics.jaccard_score/">jacscore</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Roc Auc Score</p></td>
<td><p>rocaucscore</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.roc_auc_score.html#sklearn.metrics.roc_auc_score/">rocaucscore</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td rowspan="9"><p>Clustering</p></td>
<td><p>Adjusted Mutual Info Score</p></td>
<td><p>adjmutinfoscore</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.adjusted_mutual_info_score.html#sklearn.metrics.adjusted_mutual_info_score/">adjmutinfoscore</a></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>Adjusted Rand Score</p></td>
<td><p>adjrandscore</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.adjusted_rand_score.html#sklearn.metrics.adjusted_rand_score/">adjrandscore</a></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>Completeness Score</p></td>
<td><p>complscore</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.completeness_score.html#sklearn.metrics.completeness_score/">complscore</a></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>Fowlkes Mallows Score</p></td>
<td><p>fowlmalscore</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.fowlkes_mallows_score.html#sklearn.metrics.fowlkes_mallows_score/">fowlmalscore</a></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>Homogeneity Score</p></td>
<td><p>homoscore</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.homogeneity_score.html#sklearn.metrics.homogeneity_score/">homoscore</a></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>Mutual Info Score</p></td>
<td><p>mutinfoscore</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.mutual_info_score.html#sklearn.metrics.mutual_info_score/">mutinfoscore</a></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>Normalized Mutual Info Score</p></td>
<td><p>normmutinfoscore</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.normalized_mutual_info_score.html#sklearn.metrics.normalized_mutual_info_score/">normmutinfoscore</a></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>Rand Score</p></td>
<td><p>randscore</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.rand_score.html#sklearn.metrics.rand_score/">randscore</a></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>V Measure Score</p></td>
<td><p>vmscore</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.v_measure_score.html#sklearn.metrics.v_measure_score/">vmscore</a></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>Supervised</p></td>
<td><p>Model’s Default Score</p></td>
<td><p>skmodelscore</p></td>
<td><p><a class="reference external" href="https://scikit-learn.org/stable/modules/model_evaluation.html/">skmodelscore</a></p></td>
<td><p>Yes</p></td>
</tr>
</tbody>
</table>
<p><strong>Usage Example:</strong></p>
<p>Example below uses LinearRegression Model using the command line.</p>
<p>Let us take a simple example:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Years of Experience</p></th>
<th class="head"><p>Expertise</p></th>
<th class="head"><p>Trust Factor</p></th>
<th class="head"><p>Salary</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>01</p></td>
<td><p>0.2</p></td>
<td><p>10</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>03</p></td>
<td><p>0.4</p></td>
<td><p>20</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>05</p></td>
<td><p>0.6</p></td>
<td><p>30</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>07</p></td>
<td><p>0.8</p></td>
<td><p>40</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>09</p></td>
<td><p>1.0</p></td>
<td><p>50</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>11</p></td>
<td><p>1.2</p></td>
<td><p>60</p></td>
</tr>
</tbody>
</table>
<p>First we create the files</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="o">&gt;</span> <span class="n">train</span><span class="o">.</span><span class="n">csv</span> <span class="o">&lt;&lt;</span> <span class="n">EOF</span>
<span class="n">Years</span><span class="p">,</span><span class="n">Expertise</span><span class="p">,</span><span class="n">Trust</span><span class="p">,</span><span class="n">Salary</span>
<span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mi">10</span>
<span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mf">0.2</span><span class="p">,</span><span class="mi">20</span>
<span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mf">0.3</span><span class="p">,</span><span class="mi">30</span>
<span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mf">0.4</span><span class="p">,</span><span class="mi">40</span>
<span class="n">EOF</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="o">&gt;</span> <span class="n">test</span><span class="o">.</span><span class="n">csv</span> <span class="o">&lt;&lt;</span> <span class="n">EOF</span>
<span class="n">Years</span><span class="p">,</span><span class="n">Expertise</span><span class="p">,</span><span class="n">Trust</span><span class="p">,</span><span class="n">Salary</span>
<span class="mi">4</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">50</span>
<span class="mi">5</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mf">0.6</span><span class="p">,</span><span class="mi">60</span>
<span class="n">EOF</span>
</pre></div>
</div>
<p>Train the model</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dffml</span> <span class="n">train</span> \
  <span class="o">-</span><span class="n">model</span> <span class="n">scikitlr</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">features</span> <span class="n">Years</span><span class="p">:</span><span class="nb">int</span><span class="p">:</span><span class="mi">1</span> <span class="n">Expertise</span><span class="p">:</span><span class="nb">int</span><span class="p">:</span><span class="mi">1</span> <span class="n">Trust</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">predict</span> <span class="n">Salary</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">location</span> <span class="n">tempdir</span> \
  <span class="o">-</span><span class="n">sources</span> <span class="n">f</span><span class="o">=</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">source</span><span class="o">-</span><span class="n">filename</span> <span class="n">train</span><span class="o">.</span><span class="n">csv</span>
</pre></div>
</div>
<p>Assess accuracy</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dffml</span> <span class="n">accuracy</span> \
  <span class="o">-</span><span class="n">model</span> <span class="n">scikitlr</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">features</span> <span class="n">Years</span><span class="p">:</span><span class="nb">int</span><span class="p">:</span><span class="mi">1</span> <span class="n">Expertise</span><span class="p">:</span><span class="nb">int</span><span class="p">:</span><span class="mi">1</span> <span class="n">Trust</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">predict</span> <span class="n">Salary</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">location</span> <span class="n">tempdir</span> \
  <span class="o">-</span><span class="n">features</span> <span class="n">Salary</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">scorer</span> <span class="n">mse</span> \
  <span class="o">-</span><span class="n">sources</span> <span class="n">f</span><span class="o">=</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">source</span><span class="o">-</span><span class="n">filename</span> <span class="n">test</span><span class="o">.</span><span class="n">csv</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.0</span>
</pre></div>
</div>
<p>Make a prediction</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="o">-</span><span class="n">e</span> <span class="s1">&#39;Years,Expertise,Trust</span><span class="se">\n</span><span class="s1">6,13,0.7</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">|</span> \
<span class="n">dffml</span> <span class="n">predict</span> <span class="nb">all</span> \
  <span class="o">-</span><span class="n">model</span> <span class="n">scikitlr</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">features</span> <span class="n">Years</span><span class="p">:</span><span class="nb">int</span><span class="p">:</span><span class="mi">1</span> <span class="n">Expertise</span><span class="p">:</span><span class="nb">int</span><span class="p">:</span><span class="mi">1</span> <span class="n">Trust</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">predict</span> <span class="n">Salary</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">location</span> <span class="n">tempdir</span> \
  <span class="o">-</span><span class="n">sources</span> <span class="n">f</span><span class="o">=</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">source</span><span class="o">-</span><span class="n">filename</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">stdin</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;extra&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;features&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;Expertise&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;Trust&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;Years&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;last_updated&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2020-03-01T22:26:46Z&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;prediction&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;Salary&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;confidence&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">70.0</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">]</span><span class="w"></span>
</pre></div>
</div>
<p>Example usage of Linear Regression Model using python API:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dffml</span> <span class="kn">import</span> <span class="n">CSVSource</span><span class="p">,</span> <span class="n">Features</span><span class="p">,</span> <span class="n">Feature</span>
<span class="kn">from</span> <span class="nn">dffml.noasync</span> <span class="kn">import</span> <span class="n">train</span><span class="p">,</span> <span class="n">score</span><span class="p">,</span> <span class="n">predict</span>
<span class="kn">from</span> <span class="nn">dffml_model_scikit</span> <span class="kn">import</span> <span class="n">LinearRegressionModel</span>
<span class="kn">from</span> <span class="nn">dffml.accuracy</span> <span class="kn">import</span> <span class="n">MeanSquaredErrorAccuracy</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">LinearRegressionModel</span><span class="p">(</span>
    <span class="n">features</span><span class="o">=</span><span class="n">Features</span><span class="p">(</span>
        <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;Years&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;Expertise&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;Trust&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="p">),</span>
    <span class="n">predict</span><span class="o">=</span><span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;Salary&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">location</span><span class="o">=</span><span class="s2">&quot;tempdir&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Train the model</span>
<span class="n">train</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;train.csv&quot;</span><span class="p">)</span>

<span class="c1"># Assess accuracy (alternate way of specifying data source)</span>
<span class="n">scorer</span> <span class="o">=</span> <span class="n">MeanSquaredErrorAccuracy</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="s2">&quot;Accuracy:&quot;</span><span class="p">,</span>
    <span class="n">score</span><span class="p">(</span>
        <span class="n">model</span><span class="p">,</span>
        <span class="n">scorer</span><span class="p">,</span>
        <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;Salary&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="n">CSVSource</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;test.csv&quot;</span><span class="p">),</span>
    <span class="p">),</span>
<span class="p">)</span>

<span class="c1"># Make prediction</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">features</span><span class="p">,</span> <span class="n">prediction</span> <span class="ow">in</span> <span class="n">predict</span><span class="p">(</span>
    <span class="n">model</span><span class="p">,</span>
    <span class="p">{</span><span class="s2">&quot;Years&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s2">&quot;Expertise&quot;</span><span class="p">:</span> <span class="mi">13</span><span class="p">,</span> <span class="s2">&quot;Trust&quot;</span><span class="p">:</span> <span class="mf">0.7</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;Years&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;Expertise&quot;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span> <span class="s2">&quot;Trust&quot;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">},</span>
<span class="p">):</span>
    <span class="n">features</span><span class="p">[</span><span class="s2">&quot;Salary&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">prediction</span><span class="p">[</span><span class="s2">&quot;Salary&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">features</span><span class="p">)</span>
</pre></div>
</div>
<p>Example below uses KMeans Clustering Model on a small randomly generated dataset.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"> $ </span>cat &gt; train.csv &lt;&lt; EOF
<span class="go">Col1,          Col2,        Col3,         Col4</span>
<span class="go">5.05776417,   8.55128116,   6.15193196,  -8.67349666</span>
<span class="go">3.48864265,  -7.25952218,  -4.89216256,   4.69308946</span>
<span class="go">-8.16207603,  5.16792984,  -2.66971993,   0.2401882</span>
<span class="go">6.09809669,   8.36434181,   6.70940915,  -7.91491768</span>
<span class="go">-9.39122566,  5.39133807,  -2.29760281,  -1.69672981</span>
<span class="go">0.48311336,   8.19998973,   7.78641979,   7.8843821</span>
<span class="go">2.22409135,  -7.73598586,  -4.02660224,   2.82101794</span>
<span class="go">2.8137247 ,   8.36064298,   7.66196849,   3.12704676</span>
<span class="go">EOF</span>
<span class="gp"> $ </span>cat &gt; test.csv &lt;&lt; EOF
<span class="go">Col1,             Col2,          Col3,         Col4,    cluster</span>
<span class="go">-10.16770144,   2.73057215,  -1.49351481,   2.43005691,    6</span>
<span class="go">3.59705381,  -4.76520663,  -3.34916068,   5.72391486,     1</span>
<span class="go">4.01612313,  -4.641852  ,  -4.77333308,   5.87551683,     0</span>
<span class="go">EOF</span>
<span class="gp"> $ </span>dffml train <span class="se">\</span>
     -model scikitkmeans <span class="se">\</span>
     -model-features Col1:float:1 Col2:float:1 Col3:float:1 Col4:float:1 <span class="se">\</span>
     -model-location tempdir <span class="se">\</span>
     -sources <span class="nv">f</span><span class="o">=</span>csv <span class="se">\</span>
     -source-filename train.csv <span class="se">\</span>
     -source-readonly <span class="se">\</span>
     -log debug
<span class="gp"> $ </span>dffml accuracy <span class="se">\</span>
     -model scikitkmeans <span class="se">\</span>
     -model-features Col1:float:1 Col2:float:1 Col3:float:1 Col4:float:1<span class="se">\</span>
     -model-predict cluster:int:1 <span class="se">\</span>
     -model-location tempdir <span class="se">\</span>
     -features cluster:int:1 <span class="se">\</span>
     -sources <span class="nv">f</span><span class="o">=</span>csv <span class="se">\</span>
     -source-filename test.csv <span class="se">\</span>
     -source-readonly <span class="se">\</span>
     -scorer skmodelscore <span class="se">\</span>
     -log debug
<span class="go"> 0.6365141682948129</span>
<span class="gp"> $ </span><span class="nb">echo</span> -e <span class="s1">&#39;Col1,Col2,Col3,Col4\n6.09809669,8.36434181,6.70940915,-7.91491768\n&#39;</span> <span class="p">|</span> <span class="se">\</span>
   dffml predict all <span class="se">\</span>
     -model scikitkmeans <span class="se">\</span>
     -model-features Col1:float:1 Col2:float:1 Col3:float:1 Col4:float:1 <span class="se">\</span>
     -model-location tempdir <span class="se">\</span>
     -sources <span class="nv">f</span><span class="o">=</span>csv <span class="se">\</span>
     -source-filename /dev/stdin <span class="se">\</span>
     -source-readonly <span class="se">\</span>
     -log debug
<span class="go"> [</span>
<span class="go">     {</span>
<span class="go">         &quot;extra&quot;: {},</span>
<span class="go">         &quot;features&quot;: {</span>
<span class="go">             &quot;Col1&quot;: 6.09809669,</span>
<span class="go">             &quot;Col2&quot;: 8.36434181,</span>
<span class="go">             &quot;Col3&quot;: 6.70940915,</span>
<span class="go">             &quot;Col4&quot;: -7.91491768</span>
<span class="go">         },</span>
<span class="go">         &quot;last_updated&quot;: &quot;2020-01-12T22:51:15Z&quot;,</span>
<span class="go">         &quot;prediction&quot;: {</span>
<span class="go">             &quot;confidence&quot;: 0.6365141682948129,</span>
<span class="go">             &quot;value&quot;: 2</span>
<span class="go">         },</span>
<span class="go">         &quot;key&quot;: &quot;0&quot;</span>
<span class="go">     }</span>
<span class="go"> ]</span>
</pre></div>
</div>
<p>Example usage of KMeans Clustering Model using python API:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dffml</span> <span class="kn">import</span> <span class="n">CSVSource</span><span class="p">,</span> <span class="n">Features</span><span class="p">,</span> <span class="n">Feature</span>
<span class="kn">from</span> <span class="nn">dffml.noasync</span> <span class="kn">import</span> <span class="n">train</span><span class="p">,</span> <span class="n">score</span><span class="p">,</span> <span class="n">predict</span>
<span class="kn">from</span> <span class="nn">dffml_model_scikit</span> <span class="kn">import</span> <span class="n">KMeansModel</span>
<span class="kn">from</span> <span class="nn">dffml_model_scikit</span> <span class="kn">import</span> <span class="n">MutualInfoScoreScorer</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">KMeansModel</span><span class="p">(</span>
    <span class="n">features</span><span class="o">=</span><span class="n">Features</span><span class="p">(</span>
        <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;Col1&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;Col2&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;Col3&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;Col4&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="p">),</span>
    <span class="n">predict</span><span class="o">=</span><span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;cluster&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">location</span><span class="o">=</span><span class="s2">&quot;tempdir&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Train the model</span>
<span class="n">train</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;train.csv&quot;</span><span class="p">)</span>

<span class="c1"># Assess accuracy (alternate way of specifying data source)</span>
<span class="n">scorer</span> <span class="o">=</span> <span class="n">MutualInfoScoreScorer</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Accuracy:&quot;</span><span class="p">,</span> <span class="n">score</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">scorer</span><span class="p">,</span> <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;cluster&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">CSVSource</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;test.csv&quot;</span><span class="p">)))</span>

<span class="c1"># Make prediction</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">features</span><span class="p">,</span> <span class="n">prediction</span> <span class="ow">in</span> <span class="n">predict</span><span class="p">(</span>
    <span class="n">model</span><span class="p">,</span>
    <span class="p">{</span><span class="s2">&quot;Col1&quot;</span><span class="p">:</span> <span class="mf">6.09809669</span><span class="p">,</span> <span class="s2">&quot;Col2&quot;</span><span class="p">:</span> <span class="mf">8.36434181</span><span class="p">,</span> <span class="s2">&quot;Col3&quot;</span><span class="p">:</span> <span class="mf">6.70940915</span><span class="p">,</span> <span class="s2">&quot;Col4&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">7.91491768</span><span class="p">},</span>
<span class="p">):</span>
    <span class="n">features</span><span class="p">[</span><span class="s2">&quot;cluster&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">prediction</span><span class="p">[</span><span class="s2">&quot;cluster&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">features</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>NOTE</strong>: <a class="reference external" href="https://scikit-learn.org/stable/glossary.html#term-transductive/">Transductive</a> Clusterers(scikitsc, scikitac, scikitoptics) cannot handle unseen data.
Ensure that <cite>predict</cite> and <cite>accuracy</cite> for these algorithms uses training data.</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Label or the value to be predicted</p></li>
<li><p>Only used by classification and regression models</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
</ul>
</section>
<section id="dffml-model-daal4py">
<span id="plugin-model-dffml-model-daal4py"></span><h2>dffml_model_daal4py<a class="headerlink" href="#dffml-model-daal4py" title="Permalink to this heading">¶</a></h2>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pip install dffml-model-daal4py</span>
</pre></div>
</div>
<section id="daal4pylr">
<span id="plugin-model-dffml-model-daal4py-daal4pylr"></span><h3>daal4pylr<a class="headerlink" href="#daal4pylr" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>Implemented using daal4py.</p>
<p>First we create the training and testing datasets</p>
<p><strong>train.csv</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span><span class="p">,</span><span class="n">ans</span>
<span class="mf">12.4</span><span class="p">,</span><span class="mf">11.2</span>
<span class="mf">14.3</span><span class="p">,</span><span class="mf">12.5</span>
<span class="mf">14.5</span><span class="p">,</span><span class="mf">12.7</span>
<span class="mf">14.9</span><span class="p">,</span><span class="mf">13.1</span>
<span class="mf">16.1</span><span class="p">,</span><span class="mf">14.1</span>
<span class="mf">16.9</span><span class="p">,</span><span class="mf">14.8</span>
<span class="mf">16.5</span><span class="p">,</span><span class="mf">14.4</span>
<span class="mf">15.4</span><span class="p">,</span><span class="mf">13.4</span>
<span class="mf">17.0</span><span class="p">,</span><span class="mf">14.9</span>
<span class="mf">17.9</span><span class="p">,</span><span class="mf">15.6</span>
<span class="mf">18.8</span><span class="p">,</span><span class="mf">16.4</span>
<span class="mf">20.3</span><span class="p">,</span><span class="mf">17.7</span>
<span class="mf">22.4</span><span class="p">,</span><span class="mf">19.6</span>
<span class="mf">19.4</span><span class="p">,</span><span class="mf">16.9</span>
<span class="mf">15.5</span><span class="p">,</span><span class="mf">14.0</span>
<span class="mf">16.7</span><span class="p">,</span><span class="mf">14.6</span>
</pre></div>
</div>
<p><strong>test.csv</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span><span class="p">,</span><span class="n">ans</span>
<span class="mf">18.8</span><span class="p">,</span><span class="mf">16.4</span>
<span class="mf">20.3</span><span class="p">,</span><span class="mf">17.7</span>
<span class="mf">22.4</span><span class="p">,</span><span class="mf">19.6</span>
<span class="mf">19.4</span><span class="p">,</span><span class="mf">16.9</span>
<span class="mf">15.5</span><span class="p">,</span><span class="mf">14.0</span>
<span class="mf">16.7</span><span class="p">,</span><span class="mf">14.6</span>
</pre></div>
</div>
<p>Train the model</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dffml train <span class="se">\</span>
    -model daal4pylr <span class="se">\</span>
    -model-features f1:float:1 <span class="se">\</span>
    -model-predict ans:int:1 <span class="se">\</span>
    -model-location tempdir <span class="se">\</span>
    -sources <span class="nv">f</span><span class="o">=</span>csv <span class="se">\</span>
    -source-filename train.csv
</pre></div>
</div>
<p>Assess the accuracy</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dffml accuracy <span class="se">\</span>
    -model daal4pylr <span class="se">\</span>
    -model-features f1:float:1 <span class="se">\</span>
    -model-predict ans:int:1 <span class="se">\</span>
    -model-location tempdir <span class="se">\</span>
    -features ans:int:1 <span class="se">\</span>
    -sources <span class="nv">f</span><span class="o">=</span>csv <span class="se">\</span>
    -source-filename test.csv <span class="se">\</span>
    -scorer mse <span class="se">\</span>
<span class="m">0</span>.6666666666666666
</pre></div>
</div>
<p>Make a prediction</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">echo</span> -e <span class="s1">&#39;f1,ans\n0.8,1\n&#39;</span> <span class="p">|</span> <span class="se">\</span>
  dffml predict all <span class="se">\</span>
    -model daal4pylr <span class="se">\</span>
    -model-features f1:float:1 <span class="se">\</span>
    -model-predict ans:int:1 <span class="se">\</span>
    -model-location tempdir <span class="se">\</span>
    -sources <span class="nv">f</span><span class="o">=</span>csv <span class="se">\</span>
    -source-filename /dev/stdin
<span class="go">[</span>
<span class="go">    {</span>
<span class="go">        &quot;extra&quot;: {},</span>
<span class="go">        &quot;features&quot;: {</span>
<span class="go">            &quot;ans&quot;: 1,</span>
<span class="go">            &quot;f1&quot;: 0.8</span>
<span class="go">        },</span>
<span class="go">        &quot;key&quot;: &quot;0&quot;,</span>
<span class="go">        &quot;last_updated&quot;: &quot;2020-07-22T02:53:11Z&quot;,</span>
<span class="go">        &quot;prediction&quot;: {</span>
<span class="go">            &quot;ans&quot;: {</span>
<span class="go">                &quot;confidence&quot;: null,</span>
<span class="go">                &quot;value&quot;: 1.1907472649730522</span>
<span class="go">            }</span>
<span class="go">        }</span>
<span class="go">    }</span>
<span class="go">]</span>
</pre></div>
</div>
<p>Example usage of daal4py Linear Regression model using python API</p>
<p><strong>run.py</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dffml</span> <span class="kn">import</span> <span class="n">CSVSource</span><span class="p">,</span> <span class="n">Features</span><span class="p">,</span> <span class="n">Feature</span>
<span class="kn">from</span> <span class="nn">dffml.noasync</span> <span class="kn">import</span> <span class="n">train</span><span class="p">,</span> <span class="n">score</span><span class="p">,</span> <span class="n">predict</span>
<span class="kn">from</span> <span class="nn">dffml_model_daal4py.daal4pylr</span> <span class="kn">import</span> <span class="n">DAAL4PyLRModel</span>
<span class="kn">from</span> <span class="nn">dffml.accuracy</span> <span class="kn">import</span> <span class="n">MeanSquaredErrorAccuracy</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">DAAL4PyLRModel</span><span class="p">(</span>
    <span class="n">features</span><span class="o">=</span><span class="n">Features</span><span class="p">(</span><span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span>
    <span class="n">predict</span><span class="o">=</span><span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;ans&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">location</span><span class="o">=</span><span class="s2">&quot;tempdir&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Train the model</span>
<span class="n">train</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;train.csv&quot;</span><span class="p">)</span>

<span class="c1"># Assess accuracy (alternate way of specifying data source)</span>
<span class="n">scorer</span> <span class="o">=</span> <span class="n">MeanSquaredErrorAccuracy</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="s2">&quot;Accuracy:&quot;</span><span class="p">,</span>
    <span class="n">score</span><span class="p">(</span>
        <span class="n">model</span><span class="p">,</span> <span class="n">scorer</span><span class="p">,</span> <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;ans&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">CSVSource</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;test.csv&quot;</span><span class="p">)</span>
    <span class="p">),</span>
<span class="p">)</span>

<span class="c1"># Make prediction</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">features</span><span class="p">,</span> <span class="n">prediction</span> <span class="ow">in</span> <span class="n">predict</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;f1&quot;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span> <span class="s2">&quot;ans&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}):</span>
    <span class="n">features</span><span class="p">[</span><span class="s2">&quot;ans&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">prediction</span><span class="p">[</span><span class="s2">&quot;ans&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">features</span><span class="p">)</span>
</pre></div>
</div>
<p>Run the file</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>python run.py
</pre></div>
</div>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Label or the value to be predicted</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on. For SLR only 1 allowed</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="dffml-model-pytorch">
<span id="plugin-model-dffml-model-pytorch"></span><h2>dffml_model_pytorch<a class="headerlink" href="#dffml-model-pytorch" title="Permalink to this heading">¶</a></h2>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pip install dffml-model-pytorch</span>
</pre></div>
</div>
<p>Machine Learning models implemented with <a class="reference external" href="https://pytorch.org/">PyTorch</a>.
Models are saved under the directory in <cite>model.pt</cite>.</p>
<p><strong>General Usage:</strong></p>
<p>Training:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dffml train <span class="se">\</span>
    -model PYTORCH_MODEL_ENTRYPOINT <span class="se">\</span>
    -model-features FEATURE_DEFINITION <span class="se">\</span>
    -model-predict TO_PREDICT <span class="se">\</span>
    -model-location MODEL_LOCATION <span class="se">\</span>
    -model-CONFIGS CONFIG_VALUES <span class="se">\</span>
    -sources <span class="nv">f</span><span class="o">=</span>TRAINING_DATA_SOURCE_TYPE <span class="se">\</span>
    -source-CONFIGS TRAINING_DATA <span class="se">\</span>
    -log debug
</pre></div>
</div>
<p>Testing and Accuracy:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dffml accuracy <span class="se">\</span>
    -model PYTORCH_MODEL_ENTRYPOINT <span class="se">\</span>
    -model-features FEATURE_DEFINITION <span class="se">\</span>
    -model-predict TO_PREDICT <span class="se">\</span>
    -model-location MODEL_LOCATION <span class="se">\</span>
    -model-CONFIGS CONFIG_VALUES <span class="se">\</span>
    -features TO_PREDICT <span class="se">\</span>
    -sources <span class="nv">f</span><span class="o">=</span>TESTING_DATA_SOURCE_TYPE <span class="se">\</span>
    -source-CONFIGS TESTING_DATA <span class="se">\</span>
    -log debug
</pre></div>
</div>
<p>Predicting with trained model:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dffml predict all <span class="se">\</span>
    -model PYTORCH_MODEL_ENTRYPOINT <span class="se">\</span>
    -model-features FEATURE_DEFINITION <span class="se">\</span>
    -model-predict TO_PREDICT <span class="se">\</span>
    -model-location MODEL_LOCATION <span class="se">\</span>
    -model-CONFIGS CONFIG_VALUES <span class="se">\</span>
    -sources <span class="nv">f</span><span class="o">=</span>PREDICT_DATA_SOURCE_TYPE <span class="se">\</span>
    -source-CONFIGS PREDICTION_DATA <span class="se">\</span>
    -log debug
</pre></div>
</div>
<p><strong>Pre-Trained Models Available:</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Model</p></th>
<th class="head"><p>Entrypoint</p></th>
<th class="head"><p>Architecture</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="29"><p>Classification</p></td>
<td><p>AlexNet</p></td>
<td><p>alexnet</p></td>
<td><p><a class="reference external" href="https://arxiv.org/abs/1404.5997">AlexNet architecture</a></p></td>
</tr>
<tr class="row-odd"><td><p>DenseNet-121</p></td>
<td><p>densenet121</p></td>
<td><p><a class="reference external" href="https://arxiv.org/pdf/1608.06993.pdf">DenseNet architecture</a></p></td>
</tr>
<tr class="row-even"><td><p>DenseNet-161</p></td>
<td><p>densenet161</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>DenseNet-169</p></td>
<td><p>densenet169</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>DenseNet-201</p></td>
<td><p>densenet201</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>MnasNet 0.5</p></td>
<td><p>mnasnet0_5</p></td>
<td><p><a class="reference external" href="https://arxiv.org/pdf/1807.11626.pdf">MnasNet architecture</a></p></td>
</tr>
<tr class="row-even"><td><p>MnasNet 1.0</p></td>
<td><p>mnasnet1_0</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>MobileNet V2</p></td>
<td><p>mobilenet_v2</p></td>
<td><p><a class="reference external" href="https://arxiv.org/abs/1801.04381">MobileNet V2 architecture</a></p></td>
</tr>
<tr class="row-even"><td><p>VGG-11</p></td>
<td><p>vgg11</p></td>
<td><p><a class="reference external" href="https://arxiv.org/pdf/1409.1556.pdf">VGG-11 architecture Configuration “A”</a></p></td>
</tr>
<tr class="row-odd"><td><p>VGG-11 with batch normalization</p></td>
<td><p>vgg11_bn</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>VGG-13</p></td>
<td><p>vgg13</p></td>
<td><p><a class="reference external" href="https://arxiv.org/pdf/1409.1556.pdf">VGG-13 architecture Configuration “B”</a></p></td>
</tr>
<tr class="row-odd"><td><p>VGG-13 with batch normalization</p></td>
<td><p>vgg13_bn</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>VGG-16</p></td>
<td><p>vgg16</p></td>
<td><p><a class="reference external" href="https://arxiv.org/pdf/1409.1556.pdf">VGG-16 architecture Configuration “D”</a></p></td>
</tr>
<tr class="row-odd"><td><p>VGG-16 with batch normalization</p></td>
<td><p>vgg16_bn</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>VGG-19</p></td>
<td><p>vgg19</p></td>
<td><p><a class="reference external" href="https://arxiv.org/pdf/1409.1556.pdf">VGG-19 architecture Configuration “E”</a></p></td>
</tr>
<tr class="row-odd"><td><p>VGG-19 with batch normalization</p></td>
<td><p>vgg19_bn</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>GoogleNet</p></td>
<td><p>googlenet</p></td>
<td><p><a class="reference external" href="http://arxiv.org/abs/1409.4842">GoogleNet architecture</a></p></td>
</tr>
<tr class="row-odd"><td><p>Inception V3</p></td>
<td><p>inception_v3</p></td>
<td><p><a class="reference external" href="http://arxiv.org/abs/1512.00567">Inception V3 architecture</a></p></td>
</tr>
<tr class="row-even"><td><p>ResNet-18</p></td>
<td><p>resnet18</p></td>
<td><p><a class="reference external" href="https://arxiv.org/pdf/1512.03385.pdf">ResNet architecture</a></p></td>
</tr>
<tr class="row-odd"><td><p>ResNet-34</p></td>
<td><p>resnet34</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>ResNet-50</p></td>
<td><p>resnet50</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>ResNet-101</p></td>
<td><p>resnet101</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>ResNet-152</p></td>
<td><p>resnet152</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Wide ResNet-101-2</p></td>
<td><p>wide_resnet101_2</p></td>
<td><p><a class="reference external" href="https://arxiv.org/pdf/1605.07146.pdf">Wide Resnet architecture</a></p></td>
</tr>
<tr class="row-even"><td><p>Wide ResNet-50-2</p></td>
<td><p>wide_resnet50_2</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>ShuffleNet V2 0.5</p></td>
<td><p>shufflenet_v2_x0_5</p></td>
<td><p><a class="reference external" href="https://arxiv.org/abs/1807.11164">Shuffle Net V2 architecture</a></p></td>
</tr>
<tr class="row-even"><td><p>ShuffleNet V2 1.0</p></td>
<td><p>shufflenet_v2_x1_0</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>ResNext-101-32x8D</p></td>
<td><p>resnext101_32x8d</p></td>
<td><p><a class="reference external" href="https://arxiv.org/pdf/1611.05431.pdf">ResNext architecture</a></p></td>
</tr>
<tr class="row-even"><td><p>ResNext-50-32x4D</p></td>
<td><p>resnext50_32x4d</p></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Usage Example:</strong></p>
<p>Example below uses ResNet-18 Model using the command line.</p>
<p>Let us take a simple example: <strong>Classifying Ants and Bees Images</strong></p>
<p>First, we download the dataset and verify with <code class="docutils literal notranslate"><span class="pre">sha384sum</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">LO</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">download</span><span class="o">.</span><span class="n">pytorch</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">tutorial</span><span class="o">/</span><span class="n">hymenoptera_data</span><span class="o">.</span><span class="n">zip</span>
<span class="n">sha384sum</span> <span class="o">-</span><span class="n">c</span> <span class="o">-</span> <span class="o">&lt;&lt;</span> <span class="n">EOF</span>
<span class="mi">491</span><span class="n">db45cfcab02d99843fbdcf0574ecf99aa4f056d52c660a39248b5524f9e6e8f896d9faabd27ffcfc2eaca0cec6f39</span>  <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">tron</span><span class="o">/</span><span class="n">Desktop</span><span class="o">/</span><span class="n">Development</span><span class="o">/</span><span class="n">hymenoptera_data</span><span class="o">.</span><span class="n">zip</span>
<span class="n">EOF</span>
<span class="n">hymenoptera_data</span><span class="o">.</span><span class="n">zip</span><span class="p">:</span> <span class="n">OK</span>
</pre></div>
</div>
<p>Unzip the file</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unzip</span> <span class="n">hymenoptera_data</span><span class="o">.</span><span class="n">zip</span>
</pre></div>
</div>
<p>We first create a YAML file to define the last layer(s) to replace from the network architecture</p>
<p><strong>layers.yaml</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">linear1</span><span class="p">:</span>
  <span class="n">layer_type</span><span class="p">:</span> <span class="n">Linear</span>
  <span class="n">in_features</span><span class="p">:</span> <span class="mi">512</span>
  <span class="n">out_features</span><span class="p">:</span> <span class="mi">256</span>
<span class="n">relu</span><span class="p">:</span>
  <span class="n">layer_type</span><span class="p">:</span> <span class="n">ReLU</span>
<span class="n">dropout</span><span class="p">:</span>
  <span class="n">layer_type</span><span class="p">:</span> <span class="n">Dropout</span>
  <span class="n">p</span><span class="p">:</span> <span class="mf">0.2</span>
<span class="n">linear2</span><span class="p">:</span>
  <span class="n">layer_type</span><span class="p">:</span> <span class="n">Linear</span>
  <span class="n">in_features</span><span class="p">:</span> <span class="mi">256</span>
  <span class="n">out_features</span><span class="p">:</span> <span class="mi">2</span>
<span class="n">logsoftmax</span><span class="p">:</span>
  <span class="n">layer_type</span><span class="p">:</span> <span class="n">LogSoftmax</span>
  <span class="n">dim</span><span class="p">:</span> <span class="mi">1</span>
</pre></div>
</div>
<p>Train the model</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>dffml train \
  -model resnet18 \
  -model-add_layers \
  -model-layers @layers.yaml \
  -model-clstype str \
  -model-classifications ants bees \
  -model-location resnet18_model \
  -model-imageSize 224 \
  -model-epochs 5 \
  -model-batch_size 32 \
  -model-enableGPU \
  -model-features image:int:$((500*500)) \
  -model-predict label:str:1 \
  -sources f=dir \
    -source-foldername hymenoptera_data/train \
    -source-feature image \
    -source-labels ants bees \
  -log critical
</pre></div>
</div>
<p>Assess accuracy</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>dffml accuracy \
  -model resnet18 \
  -model-add_layers \
  -model-layers @layers.yaml \
  -model-clstype str \
  -model-classifications ants bees \
  -model-location resnet18_model \
  -model-imageSize 224 \
  -model-batch_size 32 \
  -model-enableGPU \
  -model-features image:int:$((500*500)) \
  -model-predict label:str:1 \
  -features label:str:1 \
  -sources f=dir \
    -source-foldername hymenoptera_data/val \
    -source-feature image \
    -source-labels ants bees \
  -scorer pytorchscore \
  -log critical
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">0.9215686274509803</span>
</pre></div>
</div>
<p>Create a csv file with the names of the images to predict, whether they are ants or bees.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="o">&gt;</span> <span class="n">unknown_images</span><span class="o">.</span><span class="n">csv</span> <span class="o">&lt;&lt;</span> <span class="n">EOF</span>
<span class="n">key</span><span class="p">,</span><span class="n">image</span>
<span class="n">ants1</span><span class="p">,</span><span class="n">hymenoptera_data</span><span class="o">/</span><span class="n">val</span><span class="o">/</span><span class="n">ants</span><span class="o">/</span><span class="n">Ant</span><span class="o">-</span><span class="mf">1818.</span><span class="n">jpg</span>
<span class="n">bee1</span><span class="p">,</span><span class="n">hymenoptera_data</span><span class="o">/</span><span class="n">val</span><span class="o">//</span><span class="n">bees</span><span class="o">/</span><span class="mi">10870992</span><span class="n">_eebeeb3a12</span><span class="o">.</span><span class="n">jpg</span>
<span class="n">bee2</span><span class="p">,</span><span class="n">hymenoptera_data</span><span class="o">/</span><span class="n">val</span><span class="o">/</span><span class="n">bees</span><span class="o">/</span><span class="n">abeja</span><span class="o">.</span><span class="n">jpg</span>
<span class="n">ants2</span><span class="p">,</span><span class="n">hymenoptera_data</span><span class="o">/</span><span class="n">val</span><span class="o">/</span><span class="n">ants</span><span class="o">/</span><span class="n">desert_ant</span><span class="o">.</span><span class="n">jpg</span>
<span class="n">EOF</span>
</pre></div>
</div>
<p>Make the predictions</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>dffml predict all \
  -model resnet18 \
  -model-add_layers \
  -model-layers @layers.yaml \
  -model-clstype str \
  -model-classifications ants bees \
  -model-location resnet18_model \
  -model-imageSize 224 \
  -model-enableGPU \
  -model-features image:int:$((500*500)) \
  -model-predict label:str:1 \
  -sources f=csv \
    -source-filename unknown_images.csv \
    -source-loadfiles image \
  -log critical \
  -pretty
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
	<span class="n">Key</span><span class="p">:</span>	<span class="n">ants1</span>
                                                               <span class="n">Record</span> <span class="n">Features</span>
<span class="o">+----------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span>               <span class="n">image</span>               <span class="o">|</span>                    <span class="mi">59</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span> <span class="mi">83</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">87</span><span class="p">,</span> <span class="mi">57</span><span class="p">,</span> <span class="mi">72</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span> <span class="mi">53</span><span class="p">,</span> <span class="mi">74</span><span class="p">,</span> <span class="mi">89</span> <span class="o">...</span> <span class="p">(</span><span class="n">length</span><span class="p">:</span><span class="mi">263250</span><span class="p">)</span>                    <span class="o">|</span>
<span class="o">+----------------------------------------------------------------------------------------------------------------------------------------------+</span>

                                                                  <span class="n">Prediction</span>
<span class="o">+----------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span>                                                                    <span class="n">label</span>                                                                     <span class="o">|</span>
<span class="o">+----------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span>            <span class="n">Value</span><span class="p">:</span>  <span class="n">ants</span>           <span class="o">|</span>                                     <span class="n">Confidence</span><span class="p">:</span>   <span class="mf">0.9920881390571594</span>                                     <span class="o">|</span>
<span class="o">+----------------------------------------------------------------------------------------------------------------------------------------------+</span>

	<span class="n">Key</span><span class="p">:</span>	<span class="n">bee1</span>
                                                               <span class="n">Record</span> <span class="n">Features</span>
<span class="o">+----------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span>               <span class="n">image</span>               <span class="o">|</span>                    <span class="mi">63</span><span class="p">,</span> <span class="mi">114</span><span class="p">,</span> <span class="mi">146</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span> <span class="mi">114</span><span class="p">,</span> <span class="mi">146</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span> <span class="mi">114</span><span class="p">,</span> <span class="mi">146</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span>  <span class="o">...</span> <span class="p">(</span><span class="n">length</span><span class="p">:</span><span class="mi">696000</span><span class="p">)</span>                    <span class="o">|</span>
<span class="o">+----------------------------------------------------------------------------------------------------------------------------------------------+</span>

                                                                  <span class="n">Prediction</span>
<span class="o">+----------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span>                                                                    <span class="n">label</span>                                                                     <span class="o">|</span>
<span class="o">+----------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span>            <span class="n">Value</span><span class="p">:</span>  <span class="n">bees</span>           <span class="o">|</span>                                     <span class="n">Confidence</span><span class="p">:</span>   <span class="mf">0.6108130216598511</span>                                     <span class="o">|</span>
<span class="o">+----------------------------------------------------------------------------------------------------------------------------------------------+</span>

	<span class="n">Key</span><span class="p">:</span>	<span class="n">bee2</span>
                                                               <span class="n">Record</span> <span class="n">Features</span>
<span class="o">+----------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span>               <span class="n">image</span>               <span class="o">|</span>                    <span class="mi">103</span><span class="p">,</span> <span class="mi">253</span><span class="p">,</span> <span class="mi">254</span><span class="p">,</span> <span class="mi">98</span><span class="p">,</span> <span class="mi">254</span><span class="p">,</span> <span class="mi">254</span><span class="p">,</span> <span class="mi">91</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">254</span><span class="p">,</span> <span class="mi">89</span><span class="p">,</span> <span class="o">...</span> <span class="p">(</span><span class="n">length</span><span class="p">:</span><span class="mi">359100</span><span class="p">)</span>                    <span class="o">|</span>
<span class="o">+----------------------------------------------------------------------------------------------------------------------------------------------+</span>

                                                                  <span class="n">Prediction</span>
<span class="o">+----------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span>                                                                    <span class="n">label</span>                                                                     <span class="o">|</span>
<span class="o">+----------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span>            <span class="n">Value</span><span class="p">:</span>  <span class="n">bees</span>           <span class="o">|</span>                                     <span class="n">Confidence</span><span class="p">:</span>   <span class="mf">0.9162276387214661</span>                                     <span class="o">|</span>
<span class="o">+----------------------------------------------------------------------------------------------------------------------------------------------+</span>

	<span class="n">Key</span><span class="p">:</span>	<span class="n">ants2</span>
                                                               <span class="n">Record</span> <span class="n">Features</span>
<span class="o">+----------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span>               <span class="n">image</span>               <span class="o">|</span>                   <span class="mi">69</span><span class="p">,</span> <span class="mi">121</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="mi">96</span><span class="p">,</span> <span class="mi">137</span><span class="p">,</span> <span class="mi">41</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span> <span class="mi">68</span><span class="p">,</span> <span class="mi">11</span> <span class="o">...</span> <span class="p">(</span><span class="n">length</span><span class="p">:</span><span class="mi">1563912</span><span class="p">)</span>                    <span class="o">|</span>
<span class="o">+----------------------------------------------------------------------------------------------------------------------------------------------+</span>

                                                                  <span class="n">Prediction</span>
<span class="o">+----------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span>                                                                    <span class="n">label</span>                                                                     <span class="o">|</span>
<span class="o">+----------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span>            <span class="n">Value</span><span class="p">:</span>  <span class="n">ants</span>           <span class="o">|</span>                                     <span class="n">Confidence</span><span class="p">:</span>   <span class="mf">0.9368477463722229</span>                                     <span class="o">|</span>
<span class="o">+----------------------------------------------------------------------------------------------------------------------------------------------+</span>
</pre></div>
</div>
<section id="alexnet">
<span id="plugin-model-dffml-model-pytorch-alexnet"></span><h3>alexnet<a class="headerlink" href="#alexnet" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="densenet121">
<span id="plugin-model-dffml-model-pytorch-densenet121"></span><h3>densenet121<a class="headerlink" href="#densenet121" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="densenet161">
<span id="plugin-model-dffml-model-pytorch-densenet161"></span><h3>densenet161<a class="headerlink" href="#densenet161" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="densenet169">
<span id="plugin-model-dffml-model-pytorch-densenet169"></span><h3>densenet169<a class="headerlink" href="#densenet169" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="densenet201">
<span id="plugin-model-dffml-model-pytorch-densenet201"></span><h3>densenet201<a class="headerlink" href="#densenet201" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="googlenet">
<span id="plugin-model-dffml-model-pytorch-googlenet"></span><h3>googlenet<a class="headerlink" href="#googlenet" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="inception-v3">
<span id="plugin-model-dffml-model-pytorch-inception-v3"></span><h3>inception_v3<a class="headerlink" href="#inception-v3" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="mnasnet0-5">
<span id="plugin-model-dffml-model-pytorch-mnasnet0-5"></span><h3>mnasnet0_5<a class="headerlink" href="#mnasnet0-5" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="mnasnet1-0">
<span id="plugin-model-dffml-model-pytorch-mnasnet1-0"></span><h3>mnasnet1_0<a class="headerlink" href="#mnasnet1-0" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="mobilenet-v2">
<span id="plugin-model-dffml-model-pytorch-mobilenet-v2"></span><h3>mobilenet_v2<a class="headerlink" href="#mobilenet-v2" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="pytorchnet">
<span id="plugin-model-dffml-model-pytorch-pytorchnet"></span><h3>pytorchnet<a class="headerlink" href="#pytorchnet" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>network: typing.Union[dffml_model_pytorch.pytorch_net.Network, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Model</p></li>
</ul>
</li>
</ul>
</section>
<section id="resnet101">
<span id="plugin-model-dffml-model-pytorch-resnet101"></span><h3>resnet101<a class="headerlink" href="#resnet101" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="resnet152">
<span id="plugin-model-dffml-model-pytorch-resnet152"></span><h3>resnet152<a class="headerlink" href="#resnet152" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="resnet18">
<span id="plugin-model-dffml-model-pytorch-resnet18"></span><h3>resnet18<a class="headerlink" href="#resnet18" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="resnet34">
<span id="plugin-model-dffml-model-pytorch-resnet34"></span><h3>resnet34<a class="headerlink" href="#resnet34" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="resnet50">
<span id="plugin-model-dffml-model-pytorch-resnet50"></span><h3>resnet50<a class="headerlink" href="#resnet50" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="resnext101-32x8d">
<span id="plugin-model-dffml-model-pytorch-resnext101-32x8d"></span><h3>resnext101_32x8d<a class="headerlink" href="#resnext101-32x8d" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="resnext50-32x4d">
<span id="plugin-model-dffml-model-pytorch-resnext50-32x4d"></span><h3>resnext50_32x4d<a class="headerlink" href="#resnext50-32x4d" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="shufflenet-v2-x0-5">
<span id="plugin-model-dffml-model-pytorch-shufflenet-v2-x0-5"></span><h3>shufflenet_v2_x0_5<a class="headerlink" href="#shufflenet-v2-x0-5" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="shufflenet-v2-x1-0">
<span id="plugin-model-dffml-model-pytorch-shufflenet-v2-x1-0"></span><h3>shufflenet_v2_x1_0<a class="headerlink" href="#shufflenet-v2-x1-0" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="vgg11">
<span id="plugin-model-dffml-model-pytorch-vgg11"></span><h3>vgg11<a class="headerlink" href="#vgg11" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="vgg11-bn">
<span id="plugin-model-dffml-model-pytorch-vgg11-bn"></span><h3>vgg11_bn<a class="headerlink" href="#vgg11-bn" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="vgg13">
<span id="plugin-model-dffml-model-pytorch-vgg13"></span><h3>vgg13<a class="headerlink" href="#vgg13" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="vgg13-bn">
<span id="plugin-model-dffml-model-pytorch-vgg13-bn"></span><h3>vgg13_bn<a class="headerlink" href="#vgg13-bn" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="vgg16">
<span id="plugin-model-dffml-model-pytorch-vgg16"></span><h3>vgg16<a class="headerlink" href="#vgg16" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="vgg16-bn">
<span id="plugin-model-dffml-model-pytorch-vgg16-bn"></span><h3>vgg16_bn<a class="headerlink" href="#vgg16-bn" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="vgg19">
<span id="plugin-model-dffml-model-pytorch-vgg19"></span><h3>vgg19<a class="headerlink" href="#vgg19" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="vgg19-bn">
<span id="plugin-model-dffml-model-pytorch-vgg19-bn"></span><h3>vgg19_bn<a class="headerlink" href="#vgg19-bn" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="wide-resnet101-2">
<span id="plugin-model-dffml-model-pytorch-wide-resnet101-2"></span><h3>wide_resnet101_2<a class="headerlink" href="#wide-resnet101-2" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
<section id="wide-resnet50-2">
<span id="plugin-model-dffml-model-pytorch-wide-resnet50-2"></span><h3>wide_resnet50_2<a class="headerlink" href="#wide-resnet50-2" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>imageSize: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Common size for all images to resize and crop to</p></li>
</ul>
</li>
<li><p>enableGPU: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Utilize GPUs for processing</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 32</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>validation_split: float</p>
<ul>
<li><p>default: 0.0</p></li>
<li><p>Split training data for Validation</p></li>
</ul>
</li>
<li><p>patience: Integer</p>
<ul>
<li><p>default: 5</p></li>
<li><p>Early stops the training if validation loss doesn’t improve after a given patience</p></li>
</ul>
</li>
<li><p>loss: PyTorchLoss</p>
<ul>
<li><p>default: &lt;class ‘dffml.base.CrossEntropyLossFunction’&gt;</p></li>
<li><p>Loss Functions available in PyTorch</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: SGD</p></li>
<li><p>Optimizer Algorithms available in PyTorch</p></li>
</ul>
</li>
<li><p>normalize_mean: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Mean values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>normalize_std: List of floats</p>
<ul>
<li><p>default: None</p></li>
<li><p>Standard Deviation values for normalizing Tensor image</p></li>
</ul>
</li>
<li><p>pretrained: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Load Pre-trained model weights</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Replace the last layer of the pretrained model</p></li>
</ul>
</li>
<li><p>layers: typing.Union[dict, torch.nn.modules.container.ModuleDict, torch.nn.modules.container.Sequential, torch.nn.modules.container.ModuleList, torch.nn.modules.module.Module]</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to replace the last layer of the pretrained model</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="dffml-model-tensorflow">
<span id="plugin-model-dffml-model-tensorflow"></span><h2>dffml_model_tensorflow<a class="headerlink" href="#dffml-model-tensorflow" title="Permalink to this heading">¶</a></h2>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pip install dffml-model-tensorflow</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It’s important to keep the hidden layer config and feature config the same
across invocations of train, predict, and accuracy methods.</p>
<p>Models are saved under the <code class="docutils literal notranslate"><span class="pre">directory</span></code> parameter in subdirectories named
after the hash of their feature names and hidden layer config. Which means
if any of those parameters change between invocations, it’s being told to
look for a different saved model.</p>
</div>
<section id="tfdnnc">
<span id="plugin-model-dffml-model-tensorflow-tfdnnc"></span><h3>tfdnnc<a class="headerlink" href="#tfdnnc" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>Implemented using Tensorflow’s DNNClassifier.</p>
<p>First we create the training and testing datasets</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wget</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">download</span><span class="o">.</span><span class="n">tensorflow</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">iris_training</span><span class="o">.</span><span class="n">csv</span>
<span class="n">echo</span> <span class="s1">&#39;376c8ea3b7f85caff195b4abe62f34e8f4e7aece8bd087bbd746518a9d1fd60ae3b4274479f88ab0aa5c839460d535ef iris_training.csv&#39;</span> <span class="o">|</span> <span class="n">sha384sum</span> <span class="o">-</span><span class="n">c</span> <span class="o">-</span>
<span class="n">sed</span> <span class="o">-</span><span class="n">i</span> <span class="s1">&#39;s/.*setosa,versicolor,virginica/SepalLength,SepalWidth,PetalLength,PetalWidth,classification/g&#39;</span> <span class="o">*.</span><span class="n">csv</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wget</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">download</span><span class="o">.</span><span class="n">tensorflow</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">iris_test</span><span class="o">.</span><span class="n">csv</span>
<span class="n">echo</span> <span class="s1">&#39;8c2cda42ce5ce6f977d17d668b1c98a45bfe320175f33e97293c62ab543b3439eab934d8e11b1208de1e4a9eb1957714 iris_test.csv&#39;</span> <span class="o">|</span> <span class="n">sha384sum</span> <span class="o">-</span><span class="n">c</span> <span class="o">-</span>
<span class="n">sed</span> <span class="o">-</span><span class="n">i</span> <span class="s1">&#39;s/.*setosa,versicolor,virginica/SepalLength,SepalWidth,PetalLength,PetalWidth,classification/g&#39;</span> <span class="o">*.</span><span class="n">csv</span>
</pre></div>
</div>
<p>Train the model</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dffml</span> <span class="n">train</span> \
  <span class="o">-</span><span class="n">model</span> <span class="n">tfdnnc</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">epochs</span> <span class="mi">3000</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">steps</span> <span class="mi">20000</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">predict</span> <span class="n">classification</span><span class="p">:</span><span class="nb">int</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">location</span> <span class="n">tempdir</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">classifications</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">clstype</span> <span class="nb">int</span> \
  <span class="o">-</span><span class="n">sources</span> <span class="n">iris</span><span class="o">=</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">source</span><span class="o">-</span><span class="n">filename</span> <span class="n">iris_training</span><span class="o">.</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">features</span> \
    <span class="n">SepalLength</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
    <span class="n">SepalWidth</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
    <span class="n">PetalLength</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
    <span class="n">PetalWidth</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">log</span> <span class="n">debug</span>
</pre></div>
</div>
<p>Assess the accuracy</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dffml</span> <span class="n">accuracy</span> \
  <span class="o">-</span><span class="n">model</span> <span class="n">tfdnnc</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">predict</span> <span class="n">classification</span><span class="p">:</span><span class="nb">int</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">location</span> <span class="n">tempdir</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">classifications</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">clstype</span> <span class="nb">int</span> \
  <span class="o">-</span><span class="n">features</span> <span class="n">classification</span><span class="p">:</span><span class="nb">int</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">scorer</span> <span class="n">clf</span> \
  <span class="o">-</span><span class="n">sources</span> <span class="n">iris</span><span class="o">=</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">source</span><span class="o">-</span><span class="n">filename</span> <span class="n">iris_test</span><span class="o">.</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">features</span> \
    <span class="n">SepalLength</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
    <span class="n">SepalWidth</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
    <span class="n">PetalLength</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
    <span class="n">PetalWidth</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">log</span> <span class="n">critical</span>
</pre></div>
</div>
<p>Output</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">0.99996233782</span>
</pre></div>
</div>
<p>Make a prediction</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="o">-</span><span class="n">e</span> <span class="s1">&#39;SepalLength,SepalWidth,PetalLength,PetalWidth</span><span class="se">\n</span><span class="s1">5.9,3.0,4.2,1.5</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">|</span> \
<span class="n">dffml</span> <span class="n">predict</span> <span class="nb">all</span> \
  <span class="o">-</span><span class="n">model</span> <span class="n">tfdnnc</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">predict</span> <span class="n">classification</span><span class="p">:</span><span class="nb">int</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">location</span> <span class="n">tempdir</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">classifications</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">clstype</span> <span class="nb">int</span> \
  <span class="o">-</span><span class="n">sources</span> <span class="n">iris</span><span class="o">=</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">features</span> \
    <span class="n">SepalLength</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
    <span class="n">SepalWidth</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
    <span class="n">PetalLength</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
    <span class="n">PetalWidth</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">source</span><span class="o">-</span><span class="n">filename</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">stdin</span>
</pre></div>
</div>
<p>Output</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;extra&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;features&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;PetalLength&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">4.2</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;PetalWidth&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.5</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;SepalLength&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">5.9</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;SepalWidth&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">3.0</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;classification&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;last_updated&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2019-07-31T02:00:12Z&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;prediction&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;classification&quot;</span><span class="p">:</span><span class="w"></span>
<span class="w">                </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;confidence&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9999997615814209</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="p">]</span><span class="w"></span>
</pre></div>
</div>
<p>Example usage of Tensorflow DNNClassifier model using python API</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dffml</span> <span class="kn">import</span> <span class="n">CSVSource</span><span class="p">,</span> <span class="n">Features</span><span class="p">,</span> <span class="n">Feature</span>
<span class="kn">from</span> <span class="nn">dffml.noasync</span> <span class="kn">import</span> <span class="n">train</span><span class="p">,</span> <span class="n">score</span><span class="p">,</span> <span class="n">predict</span>
<span class="kn">from</span> <span class="nn">dffml_model_tensorflow.dnnc</span> <span class="kn">import</span> <span class="n">DNNClassifierModel</span>
<span class="kn">from</span> <span class="nn">dffml.accuracy</span> <span class="kn">import</span> <span class="n">ClassificationAccuracy</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">DNNClassifierModel</span><span class="p">(</span>
    <span class="n">features</span><span class="o">=</span><span class="n">Features</span><span class="p">(</span>
        <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;SepalLength&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;SepalWidth&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;PetalLength&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;PetalWidth&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="p">),</span>
    <span class="n">predict</span><span class="o">=</span><span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;classification&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">epochs</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span>
    <span class="n">steps</span><span class="o">=</span><span class="mi">20000</span><span class="p">,</span>
    <span class="n">classifications</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
    <span class="n">clstype</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>
    <span class="n">location</span><span class="o">=</span><span class="s2">&quot;tempdir&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Train the model</span>
<span class="n">train</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;iris_training.csv&quot;</span><span class="p">)</span>

<span class="c1"># Assess accuracy (alternate way of specifying data source)</span>
<span class="n">scorer</span> <span class="o">=</span> <span class="n">ClassificationAccuracy</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="s2">&quot;Accuracy:&quot;</span><span class="p">,</span>
    <span class="n">score</span><span class="p">(</span>
        <span class="n">model</span><span class="p">,</span>
        <span class="n">scorer</span><span class="p">,</span>
        <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;classification&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="n">CSVSource</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;iris_test.csv&quot;</span><span class="p">),</span>
    <span class="p">),</span>
<span class="p">)</span>

<span class="c1"># Make prediction</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">features</span><span class="p">,</span> <span class="n">prediction</span> <span class="ow">in</span> <span class="n">predict</span><span class="p">(</span>
    <span class="n">model</span><span class="p">,</span>
    <span class="p">{</span>
        <span class="s2">&quot;PetalLength&quot;</span><span class="p">:</span> <span class="mf">4.2</span><span class="p">,</span>
        <span class="s2">&quot;PetalWidth&quot;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
        <span class="s2">&quot;SepalLength&quot;</span><span class="p">:</span> <span class="mf">5.9</span><span class="p">,</span>
        <span class="s2">&quot;SepalWidth&quot;</span><span class="p">:</span> <span class="mf">3.0</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;PetalLength&quot;</span><span class="p">:</span> <span class="mf">5.4</span><span class="p">,</span>
        <span class="s2">&quot;PetalWidth&quot;</span><span class="p">:</span> <span class="mf">2.1</span><span class="p">,</span>
        <span class="s2">&quot;SepalLength&quot;</span><span class="p">:</span> <span class="mf">6.9</span><span class="p">,</span>
        <span class="s2">&quot;SepalWidth&quot;</span><span class="p">:</span> <span class="mf">3.1</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">):</span>
    <span class="n">features</span><span class="p">[</span><span class="s2">&quot;classification&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">prediction</span><span class="p">[</span><span class="s2">&quot;classification&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">features</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding target values</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>steps: Integer</p>
<ul>
<li><p>default: 3000</p></li>
<li><p>Number of steps to train the model</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 30</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>hidden: List of integers</p>
<ul>
<li><p>default: [12, 40, 15]</p></li>
<li><p>List length is the number of hidden layers in the network. Each entry in the list is the number of nodes in that hidden layer</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>batchsize: Integer</p>
<ul>
<li><p>default: 20</p></li>
<li><p>Number records to pass through in an epoch</p></li>
</ul>
</li>
<li><p>shuffle: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Randomise order of records in a batch</p></li>
</ul>
</li>
</ul>
</section>
<section id="tfdnnr">
<span id="plugin-model-dffml-model-tensorflow-tfdnnr"></span><h3>tfdnnr<a class="headerlink" href="#tfdnnr" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>Implemented using Tensorflow’s DNNEstimator.</p>
<p>Usage:</p>
<ul class="simple">
<li><p>predict: Name of the feature we are trying to predict or using for training.</p></li>
</ul>
<p>Generating train and test data</p>
<ul class="simple">
<li><p>This creates files <cite>train.csv</cite> and <cite>test.csv</cite>,
make sure to take a BACKUP of files with same name in the directory
from where this command is run as it overwrites any existing files.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="o">&gt;</span> <span class="n">train</span><span class="o">.</span><span class="n">csv</span> <span class="o">&lt;&lt;</span> <span class="n">EOF</span>
<span class="n">Feature1</span><span class="p">,</span><span class="n">Feature2</span><span class="p">,</span><span class="n">TARGET</span>
<span class="mf">0.93</span><span class="p">,</span><span class="mf">0.68</span><span class="p">,</span><span class="mf">3.89</span>
<span class="mf">0.24</span><span class="p">,</span><span class="mf">0.42</span><span class="p">,</span><span class="mf">1.75</span>
<span class="mf">0.36</span><span class="p">,</span><span class="mf">0.68</span><span class="p">,</span><span class="mf">2.75</span>
<span class="mf">0.53</span><span class="p">,</span><span class="mf">0.31</span><span class="p">,</span><span class="mf">2.00</span>
<span class="mf">0.29</span><span class="p">,</span><span class="mf">0.25</span><span class="p">,</span><span class="mf">1.32</span>
<span class="mf">0.29</span><span class="p">,</span><span class="mf">0.52</span><span class="p">,</span><span class="mf">2.14</span>
<span class="n">EOF</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="o">&gt;</span> <span class="n">test</span><span class="o">.</span><span class="n">csv</span> <span class="o">&lt;&lt;</span> <span class="n">EOF</span>
<span class="n">Feature1</span><span class="p">,</span><span class="n">Feature2</span><span class="p">,</span><span class="n">TARGET</span>
<span class="mf">0.57</span><span class="p">,</span><span class="mf">0.84</span><span class="p">,</span><span class="mf">3.65</span>
<span class="mf">0.95</span><span class="p">,</span><span class="mf">0.19</span><span class="p">,</span><span class="mf">2.46</span>
<span class="mf">0.23</span><span class="p">,</span><span class="mf">0.15</span><span class="p">,</span><span class="mf">0.93</span>
<span class="n">EOF</span>
</pre></div>
</div>
<p>Train the model</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dffml</span> <span class="n">train</span> \
  <span class="o">-</span><span class="n">model</span> <span class="n">tfdnnr</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">epochs</span> <span class="mi">300</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">steps</span> <span class="mi">2000</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">predict</span> <span class="n">TARGET</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">location</span> <span class="n">tempdir</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">hidden</span> <span class="mi">8</span> <span class="mi">16</span> <span class="mi">8</span> \
  <span class="o">-</span><span class="n">sources</span> <span class="n">s</span><span class="o">=</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">source</span><span class="o">-</span><span class="n">filename</span> <span class="n">train</span><span class="o">.</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">features</span> \
    <span class="n">Feature1</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
    <span class="n">Feature2</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">log</span> <span class="n">debug</span>
</pre></div>
</div>
<p>Assess the accuracy</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dffml</span> <span class="n">accuracy</span> \
  <span class="o">-</span><span class="n">model</span> <span class="n">tfdnnr</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">predict</span> <span class="n">TARGET</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">location</span> <span class="n">tempdir</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">hidden</span> <span class="mi">8</span> <span class="mi">16</span> <span class="mi">8</span> \
  <span class="o">-</span><span class="n">features</span> <span class="n">TARGET</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">sources</span> <span class="n">s</span><span class="o">=</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">source</span><span class="o">-</span><span class="n">filename</span> <span class="n">test</span><span class="o">.</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">features</span> \
    <span class="n">Feature1</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
    <span class="n">Feature2</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">scorer</span> <span class="n">mse</span> \
  <span class="o">-</span><span class="n">log</span> <span class="n">critical</span>
</pre></div>
</div>
<p>Output</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">0.9468210011</span>
</pre></div>
</div>
<p>Make a prediction</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="o">-</span><span class="n">e</span> <span class="s1">&#39;Feature1,Feature2,TARGET</span><span class="se">\n</span><span class="s1">0.21,0.18,0.84</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">|</span> \
  <span class="n">dffml</span> <span class="n">predict</span> <span class="nb">all</span> \
  <span class="o">-</span><span class="n">model</span> <span class="n">tfdnnr</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">predict</span> <span class="n">TARGET</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">location</span> <span class="n">tempdir</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">hidden</span> <span class="mi">8</span> <span class="mi">16</span> <span class="mi">8</span> \
  <span class="o">-</span><span class="n">sources</span> <span class="n">s</span><span class="o">=</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">source</span><span class="o">-</span><span class="n">filename</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">stdin</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">features</span> \
    <span class="n">Feature1</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
    <span class="n">Feature2</span><span class="p">:</span><span class="nb">float</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">log</span> <span class="n">critical</span>
</pre></div>
</div>
<p>Output</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;extra&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;features&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;Feature1&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.21</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;Feature2&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.18</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;TARGET&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.84</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;last_updated&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2019-10-24T15:26:41Z&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;prediction&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;TARGET&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;confidence&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.1983429193496704</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">]</span><span class="w"></span>
</pre></div>
</div>
<p>Example usage of Tensorflow DNNEstimator model using python API</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dffml</span> <span class="kn">import</span> <span class="n">CSVSource</span><span class="p">,</span> <span class="n">Features</span><span class="p">,</span> <span class="n">Feature</span>
<span class="kn">from</span> <span class="nn">dffml.noasync</span> <span class="kn">import</span> <span class="n">train</span><span class="p">,</span> <span class="n">score</span><span class="p">,</span> <span class="n">predict</span>
<span class="kn">from</span> <span class="nn">dffml_model_tensorflow.dnnr</span> <span class="kn">import</span> <span class="n">DNNRegressionModel</span>
<span class="kn">from</span> <span class="nn">dffml.accuracy</span> <span class="kn">import</span> <span class="n">MeanSquaredErrorAccuracy</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">DNNRegressionModel</span><span class="p">(</span>
    <span class="n">features</span><span class="o">=</span><span class="n">Features</span><span class="p">(</span>
        <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;Feature1&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;Feature2&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">predict</span><span class="o">=</span><span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;TARGET&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">epochs</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span>
    <span class="n">steps</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span>
    <span class="n">hidden</span><span class="o">=</span><span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
    <span class="n">location</span><span class="o">=</span><span class="s2">&quot;tempdir&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Train the model</span>
<span class="n">train</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;train.csv&quot;</span><span class="p">)</span>

<span class="c1"># Assess accuracy (alternate way of specifying data source)</span>
<span class="n">scorer</span> <span class="o">=</span> <span class="n">MeanSquaredErrorAccuracy</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="s2">&quot;Accuracy:&quot;</span><span class="p">,</span>
    <span class="n">score</span><span class="p">(</span>
        <span class="n">model</span><span class="p">,</span>
        <span class="n">scorer</span><span class="p">,</span>
        <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;TARGET&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="n">CSVSource</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;test.csv&quot;</span><span class="p">),</span>
    <span class="p">),</span>
<span class="p">)</span>

<span class="c1"># Make prediction</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">features</span><span class="p">,</span> <span class="n">prediction</span> <span class="ow">in</span> <span class="n">predict</span><span class="p">(</span>
    <span class="n">model</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;Feature1&quot;</span><span class="p">:</span> <span class="mf">0.21</span><span class="p">,</span> <span class="s2">&quot;Feature2&quot;</span><span class="p">:</span> <span class="mf">0.18</span><span class="p">,</span> <span class="s2">&quot;TARGET&quot;</span><span class="p">:</span> <span class="mf">0.84</span><span class="p">}</span>
<span class="p">):</span>
    <span class="n">features</span><span class="p">[</span><span class="s2">&quot;TARGET&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">prediction</span><span class="p">[</span><span class="s2">&quot;TARGET&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">features</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">null</span></code> in <code class="docutils literal notranslate"><span class="pre">confidence</span></code> is the expected behavior. (See TODO in
predict).</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding target values</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>steps: Integer</p>
<ul>
<li><p>default: 3000</p></li>
<li><p>Number of steps to train the model</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 30</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
<li><p>hidden: List of integers</p>
<ul>
<li><p>default: [12, 40, 15]</p></li>
<li><p>List length is the number of hidden layers in the network. Each entry in the list is the number of nodes in that hidden layer</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="dffml-model-tensorflow-hub">
<span id="plugin-model-dffml-model-tensorflow-hub"></span><h2>dffml_model_tensorflow_hub<a class="headerlink" href="#dffml-model-tensorflow-hub" title="Permalink to this heading">¶</a></h2>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pip install dffml-model-tensorflow-hub</span>
</pre></div>
</div>
<section id="text-classifier">
<span id="plugin-model-dffml-model-tensorflow-hub-text-classifier"></span><h3>text_classifier<a class="headerlink" href="#text-classifier" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>Implemented using Tensorflow hub pretrained models.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>cat &gt; train.csv &lt;&lt; EOF
sentence,sentiment
Life is good,1
This book is amazing,1
It&#39;s a terrible movie,2
Global warming is bad,0
I hate you!!,2
This movie is horrible,2
EOF
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="o">&gt;</span> <span class="n">test</span><span class="o">.</span><span class="n">csv</span> <span class="o">&lt;&lt;</span> <span class="n">EOF</span>
<span class="n">sentence</span><span class="p">,</span><span class="n">sentiment</span>
<span class="n">I</span> <span class="n">am</span> <span class="ow">not</span> <span class="n">feeling</span> <span class="n">good</span><span class="p">,</span><span class="mi">0</span>
<span class="n">Our</span> <span class="n">trip</span> <span class="n">was</span> <span class="n">full</span> <span class="n">of</span> <span class="n">adventures</span><span class="p">,</span><span class="mi">1</span>
<span class="n">EOF</span>
</pre></div>
</div>
<p>Train the model</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dffml</span> <span class="n">train</span> \
  <span class="o">-</span><span class="n">model</span> <span class="n">text_classifier</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">epochs</span> <span class="mi">30</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">predict</span> <span class="n">sentiment</span><span class="p">:</span><span class="nb">int</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">location</span> <span class="n">tempdir</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">classifications</span> <span class="mi">0</span> <span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">clstype</span> <span class="nb">int</span> \
  <span class="o">-</span><span class="n">sources</span> <span class="n">f</span><span class="o">=</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">source</span><span class="o">-</span><span class="n">filename</span> <span class="n">train</span><span class="o">.</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">features</span> \
    <span class="n">sentence</span><span class="p">:</span><span class="nb">str</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">model_path</span> <span class="s2">&quot;https://tfhub.dev/google/tf2-preview/gnews-swivel-20dim-with-oov/1&quot;</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">add_layers</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">layers</span> <span class="s2">&quot;Dense(units=512, activation=&#39;relu&#39;)&quot;</span> <span class="s2">&quot;Dense(units=2, activation=&#39;softmax&#39;)&quot;</span> \
  <span class="o">-</span><span class="n">log</span> <span class="n">debug</span>
</pre></div>
</div>
<p>Assess the accuracy</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dffml</span> <span class="n">accuracy</span> \
  <span class="o">-</span><span class="n">model</span> <span class="n">text_classifier</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">predict</span> <span class="n">sentiment</span><span class="p">:</span><span class="nb">int</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">location</span> <span class="n">tempdir</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">classifications</span> <span class="mi">0</span> <span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">model_path</span> <span class="s2">&quot;https://tfhub.dev/google/tf2-preview/gnews-swivel-20dim-with-oov/1&quot;</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">clstype</span> <span class="nb">int</span> \
  <span class="o">-</span><span class="n">features</span> <span class="n">sentiment</span><span class="p">:</span><span class="nb">int</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">sources</span> <span class="n">f</span><span class="o">=</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">source</span><span class="o">-</span><span class="n">filename</span> <span class="n">test</span><span class="o">.</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">features</span> \
    <span class="n">sentence</span><span class="p">:</span><span class="nb">str</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">scorer</span> <span class="n">textclf</span> \
  <span class="o">-</span><span class="n">log</span> <span class="n">critical</span>
</pre></div>
</div>
<p>Output</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">0.5</span>
</pre></div>
</div>
<p>Make a prediction</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dffml</span> <span class="n">predict</span> <span class="nb">all</span> \
  <span class="o">-</span><span class="n">model</span> <span class="n">text_classifier</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">predict</span> <span class="n">sentiment</span><span class="p">:</span><span class="nb">int</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">location</span> <span class="n">tempdir</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">classifications</span> <span class="mi">0</span> <span class="mi">1</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">model_path</span> <span class="s2">&quot;https://tfhub.dev/google/tf2-preview/gnews-swivel-20dim-with-oov/1&quot;</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">clstype</span> <span class="nb">int</span> \
  <span class="o">-</span><span class="n">sources</span> <span class="n">f</span><span class="o">=</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">source</span><span class="o">-</span><span class="n">filename</span> <span class="n">test</span><span class="o">.</span><span class="n">csv</span> \
  <span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">features</span> \
    <span class="n">sentence</span><span class="p">:</span><span class="nb">str</span><span class="p">:</span><span class="mi">1</span> \
  <span class="o">-</span><span class="n">log</span> <span class="n">debug</span>
</pre></div>
</div>
<p>Output</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;extra&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;features&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;sentence&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;I am not feeling good&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;sentiment&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;last_updated&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2020-05-14T20:14:30Z&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;prediction&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;sentiment&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;confidence&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9999992847442627</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;extra&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;features&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;sentence&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Our trip was full of adventures&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;sentiment&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;last_updated&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2020-05-14T20:14:30Z&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;prediction&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;sentiment&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;confidence&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9999088048934937</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">]</span><span class="w"></span>
</pre></div>
</div>
<p>Example usage of Tensorflow_hub Text Classifier model using python API</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dffml</span> <span class="kn">import</span> <span class="n">CSVSource</span><span class="p">,</span> <span class="n">Features</span><span class="p">,</span> <span class="n">Feature</span>
<span class="kn">from</span> <span class="nn">dffml.noasync</span> <span class="kn">import</span> <span class="n">train</span><span class="p">,</span> <span class="n">score</span><span class="p">,</span> <span class="n">predict</span>
<span class="kn">from</span> <span class="nn">dffml_model_tensorflow_hub.text_classifier</span> <span class="kn">import</span> <span class="n">TextClassificationModel</span>
<span class="kn">from</span> <span class="nn">dffml_model_tensorflow_hub.text_classifier_accuracy</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">TextClassifierAccuracy</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">TextClassificationModel</span><span class="p">(</span>
    <span class="n">features</span><span class="o">=</span><span class="n">Features</span><span class="p">(</span><span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;sentence&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span>
    <span class="n">predict</span><span class="o">=</span><span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;sentiment&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">classifications</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
    <span class="n">clstype</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>
    <span class="n">location</span><span class="o">=</span><span class="s2">&quot;tempdir&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Train the model</span>
<span class="n">train</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;train.csv&quot;</span><span class="p">)</span>

<span class="c1"># Assess accuracy (alternate way of specifying data source)</span>
<span class="n">scorer</span> <span class="o">=</span> <span class="n">TextClassifierAccuracy</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="s2">&quot;Accuracy:&quot;</span><span class="p">,</span>
    <span class="n">score</span><span class="p">(</span>
        <span class="n">model</span><span class="p">,</span>
        <span class="n">scorer</span><span class="p">,</span>
        <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;sentiment&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="n">CSVSource</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;test.csv&quot;</span><span class="p">),</span>
    <span class="p">),</span>
<span class="p">)</span>

<span class="c1"># Make prediction</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">features</span><span class="p">,</span> <span class="n">prediction</span> <span class="ow">in</span> <span class="n">predict</span><span class="p">(</span>
    <span class="n">model</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;sentence&quot;</span><span class="p">:</span> <span class="s2">&quot;This track is horrible&quot;</span><span class="p">},</span>
<span class="p">):</span>
    <span class="n">features</span><span class="p">[</span><span class="s2">&quot;sentiment&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">prediction</span><span class="p">[</span><span class="s2">&quot;sentiment&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">features</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>predict: Feature</p>
<ul>
<li><p>Feature name holding classification value</p></li>
</ul>
</li>
<li><p>classifications: List of strings</p>
<ul>
<li><p>Options for value of classification</p></li>
</ul>
</li>
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>trainable: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Tweak pretrained model by training again</p></li>
</ul>
</li>
<li><p>batch_size: Integer</p>
<ul>
<li><p>default: 120</p></li>
<li><p>Batch size</p></li>
</ul>
</li>
<li><p>max_seq_length: Integer</p>
<ul>
<li><p>default: 256</p></li>
<li><p>Length of sentence, used in preprocessing of input for bert embedding</p></li>
</ul>
</li>
<li><p>add_layers: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>Add layers on the top of pretrianed model/layer</p></li>
</ul>
</li>
<li><p>embedType: String</p>
<ul>
<li><p>default: None</p></li>
<li><p>Type of pretrained embedding model, required to be set to <cite>bert</cite> to use bert pretrained embedding</p></li>
</ul>
</li>
<li><p>layers: List of strings</p>
<ul>
<li><p>default: None</p></li>
<li><p>Extra layers to be added on top of pretrained model</p></li>
</ul>
</li>
<li><p>model_path: String</p>
<ul>
<li><p>default: <a class="reference external" href="https://tfhub.dev/google/tf2-preview/gnews-swivel-20dim-with-oov/1">https://tfhub.dev/google/tf2-preview/gnews-swivel-20dim-with-oov/1</a></p></li>
<li><p>Pretrained model path/url</p></li>
</ul>
</li>
<li><p>optimizer: String</p>
<ul>
<li><p>default: adam</p></li>
<li><p>Optimizer used by model</p></li>
</ul>
</li>
<li><p>metrics: String</p>
<ul>
<li><p>default: accuracy</p></li>
<li><p>Metric used to evaluate model</p></li>
</ul>
</li>
<li><p>clstype: Type</p>
<ul>
<li><p>default: &lt;class ‘str’&gt;</p></li>
<li><p>Data type of classifications values</p></li>
</ul>
</li>
<li><p>epochs: Integer</p>
<ul>
<li><p>default: 10</p></li>
<li><p>Number of iterations to pass over all records in a source</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="dffml-model-spacy">
<span id="plugin-model-dffml-model-spacy"></span><h2>dffml_model_spacy<a class="headerlink" href="#dffml-model-spacy" title="Permalink to this heading">¶</a></h2>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pip install dffml-model-spacy</span>
</pre></div>
</div>
<section id="spacyner">
<span id="plugin-model-dffml-model-spacy-spacyner"></span><h3>spacyner<a class="headerlink" href="#spacyner" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>Implemented using <a class="reference external" href="https://spacy.io/usage/training">Spacy statistical models</a> .</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You must download <code class="docutils literal notranslate"><span class="pre">en_core_web_sm</span></code> before using this model</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>python -m spacy download en_core_web_sm
</pre></div>
</div>
</div>
<p>First we create the training and testing datasets.</p>
<p>Training data:</p>
<p><strong>train.json</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;sentence&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;I went to London and Berlin.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;entities&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">                </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;start&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;end&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;tag&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;LOC&quot;</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;start&quot;</span><span class="p">:</span><span class="mi">21</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;end&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">27</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;tag&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;LOC&quot;</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="w">            </span><span class="p">]</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;sentence&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Who is Alex?&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;entities&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">                </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;start&quot;</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;end&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;tag&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PERSON&quot;</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="w">            </span><span class="p">]</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Testing data:</p>
<p><strong>test.json</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;sentence&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Alex went to London?&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Train the model</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dffml train <span class="se">\</span>
    -model spacyner <span class="se">\</span>
    -sources <span class="nv">s</span><span class="o">=</span>op <span class="se">\</span>
    -source-opimp dffml_model_spacy.ner.utils:parser <span class="se">\</span>
    -source-args train.json False <span class="se">\</span>
    -model-model_name en_core_web_sm <span class="se">\</span>
    -model-location temp <span class="se">\</span>
    -model-n_iter <span class="m">5</span> <span class="se">\</span>
    -log debug
</pre></div>
</div>
<p>Assess the accuracy</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dffml accuracy <span class="se">\</span>
    -model spacyner <span class="se">\</span>
    -sources <span class="nv">s</span><span class="o">=</span>op <span class="se">\</span>
    -source-opimp dffml_model_spacy.ner.utils:parser <span class="se">\</span>
    -source-args train.json False <span class="se">\</span>
    -model-model_name en_core_web_sm <span class="se">\</span>
    -model-location temp <span class="se">\</span>
    -model-n_iter <span class="m">5</span> <span class="se">\</span>
    -features tag:str:1 <span class="se">\</span>
    -scorer sner <span class="se">\</span>
    -log debug
<span class="go">0.0</span>
</pre></div>
</div>
<p>Make a prediction</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dffml predict all <span class="se">\</span>
    -model spacyner <span class="se">\</span>
    -sources <span class="nv">s</span><span class="o">=</span>op <span class="se">\</span>
    -source-opimp dffml_model_spacy.ner.utils:parser <span class="se">\</span>
    -source-args test.json True <span class="se">\</span>
    -model-model_name en_core_web_sm <span class="se">\</span>
    -model-location temp <span class="se">\</span>
    -model-n_iter <span class="m">5</span> <span class="se">\</span>
    -log debug
<span class="go">[</span>
<span class="go">    {</span>
<span class="go">        &quot;extra&quot;: {},</span>
<span class="go">        &quot;features&quot;: {</span>
<span class="go">            &quot;entities&quot;: [],</span>
<span class="go">            &quot;sentence&quot;: &quot;Alex went to London?&quot;</span>
<span class="go">        },</span>
<span class="go">        &quot;key&quot;: 0,</span>
<span class="go">        &quot;last_updated&quot;: &quot;2020-07-27T16:26:18Z&quot;,</span>
<span class="go">        &quot;prediction&quot;: {</span>
<span class="go">            &quot;Answer&quot;: {</span>
<span class="go">                &quot;confidence&quot;: null,</span>
<span class="go">                &quot;value&quot;: [</span>
<span class="go">                    [</span>
<span class="go">                        &quot;Alex&quot;,</span>
<span class="go">                        &quot;PERSON&quot;</span>
<span class="go">                    ],</span>
<span class="go">                    [</span>
<span class="go">                        &quot;London&quot;,</span>
<span class="go">                        &quot;GPE&quot;</span>
<span class="go">                    ]</span>
<span class="go">                ]</span>
<span class="go">            }</span>
<span class="go">        }</span>
<span class="go">    }</span>
<span class="go">]</span>
</pre></div>
</div>
<p>The model can be trained on large datasets to get the expected
output. The example shown above is to demonstrate the commandline usage
of the model.</p>
<p>In the above train, accuracy and predict commands, <a class="reference internal" href="dffml_source.html#plugin-source-dffml-op"><span class="std std-ref">op</span></a> source is used to
read and parse data from json file before feeding it to the model. The function used by opsource to parse json data
is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ast</span>
<span class="kn">import</span> <span class="nn">json</span>


<span class="k">def</span> <span class="nf">parser</span><span class="p">(</span><span class="n">json_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">is_predicting</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">parsed_data</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
        <span class="k">for</span> <span class="nb">id</span><span class="p">,</span> <span class="n">entry</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
            <span class="n">entities</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">sentence</span> <span class="o">=</span> <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;sentence&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">is_predicting</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">entity</span> <span class="ow">in</span> <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;entities&quot;</span><span class="p">]:</span>
                    <span class="n">start</span> <span class="o">=</span> <span class="n">entity</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span>
                    <span class="n">end</span> <span class="o">=</span> <span class="n">entity</span><span class="p">[</span><span class="s2">&quot;end&quot;</span><span class="p">]</span>
                    <span class="n">tag</span> <span class="o">=</span> <span class="n">entity</span><span class="p">[</span><span class="s2">&quot;tag&quot;</span><span class="p">]</span>
                    <span class="n">entities</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">tag</span><span class="p">))</span>
            <span class="n">parsed_data</span><span class="p">[</span><span class="nb">id</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;features&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;sentence&quot;</span><span class="p">:</span> <span class="n">sentence</span><span class="p">,</span> <span class="s2">&quot;entities&quot;</span><span class="p">:</span> <span class="n">entities</span><span class="p">,}</span>
            <span class="p">}</span>
        <span class="k">return</span> <span class="n">parsed_data</span>
</pre></div>
</div>
<p>The location of the function is passed using:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">-source-opimp dffml_model_spacy.ner.utils:parser</span>
</pre></div>
</div>
<p>And the arguments to <cite>parser</cite> are passed by:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">-source-args train.json False</span>
</pre></div>
</div>
<p>where <cite>train.json</cite> is the name of file containing training data and the bool <cite>False</cite>
is value of the flag <cite>is_predicting</cite>.</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>location: String</p>
<ul>
<li><p>Output location.</p></li>
</ul>
</li>
<li><p>model_name: String</p>
<ul>
<li><p>default: None</p></li>
<li><p>Name of one of the trained pipelines provided by spaCy.        You can find complete list at: <a class="reference external" href="https://spacy.io/models">https://spacy.io/models</a>        Defaults to blank ‘en’ model.</p></li>
</ul>
</li>
<li><p>n_iter: Integer</p>
<ul>
<li><p>default: 10</p></li>
<li><p>Number of training iterations</p></li>
</ul>
</li>
<li><p>dropout: float</p>
<ul>
<li><p>default: 0.5</p></li>
<li><p>Dropout rate to be used during training</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="dffml-model-autosklearn">
<span id="plugin-model-dffml-model-autosklearn"></span><h2>dffml_model_autosklearn<a class="headerlink" href="#dffml-model-autosklearn" title="Permalink to this heading">¶</a></h2>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pip install dffml-model-autosklearn</span>
</pre></div>
</div>
<p>Follow these instructions before running the above install
command to ensure that <code class="docutils literal notranslate"><span class="pre">auto-sklearn</span></code> installs correctly</p>
<p><strong>Ubuntu Installation</strong></p>
<p>To provide a C++11 building environment and the lateste SWIG version on Ubuntu, run:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo apt-get install build-essential swig
</pre></div>
</div>
<p>Install other PyPi dependencies with</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>python3 -m pip install cython liac-arff psutil
<span class="gp">$ </span>curl https://raw.githubusercontent.com/automl/auto-sklearn/master/requirements.txt <span class="p">|</span> xargs -n <span class="m">1</span> -L <span class="m">1</span> python3 -m pip install
</pre></div>
</div>
<p>For more information about installation visit <a class="reference external" href="https://automl.github.io/auto-sklearn/master/installation.html#installation">https://automl.github.io/auto-sklearn/master/installation.html#installation</a></p>
<section id="autoclassifier">
<span id="plugin-model-dffml-model-autosklearn-autoclassifier"></span><h3>autoclassifier<a class="headerlink" href="#autoclassifier" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p>No description</p>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>predict: Feature</p>
<ul>
<li><p>Label or the value to be predicted</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>time_left_for_this_task: Integer</p>
<ul>
<li><p>default: 3600</p></li>
<li><p>Time limit in seconds for the search of appropriate models. By increasing this value, <em>auto-sklearn</em> has a higher chance of finding better models.</p></li>
</ul>
</li>
<li><p>per_run_time_limit: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Time limit for a single call to the machine learning model. Model fitting will be terminated if the machine learning algorithm runs over the time limit. Set this value high enough so that typical machine learning algorithms can be fit on the training data.</p></li>
</ul>
</li>
<li><p>initial_configurations_via_metalearning: Integer</p>
<ul>
<li><p>default: 25</p></li>
<li><p>Initialize the hyperparameter optimization algorithm with this many configurations which worked well on previously seen datasets. Disable if the hyperparameter optimization algorithm should start from scratch.</p></li>
</ul>
</li>
<li><p>ensemble_size: Integer</p>
<ul>
<li><p>default: 50</p></li>
<li><p>Number of models added to the ensemble built by <em>Ensemble selection from libraries of models</em>. Models are drawn with replacement.</p></li>
</ul>
</li>
<li><p>ensemble_nbest: Integer</p>
<ul>
<li><p>default: 50</p></li>
<li><p>Only consider the <code class="docutils literal notranslate"><span class="pre">ensemble_nbest</span></code> models when building an ensemble.</p></li>
</ul>
</li>
<li><p>max_models_on_disc: Integer</p>
<ul>
<li><p>default: 50</p></li>
<li><p>Defines the maximum number of models that are kept in the disc. The additional number of models are permanently deleted. Due to the nature of this variable, it sets the upper limit on how many models can be used for an ensemble. It must be an integer greater or equal than 1. If set to None, all models are kept on the disc.</p></li>
</ul>
</li>
<li><p>seed: Integer</p>
<ul>
<li><p>default: 1</p></li>
<li><p>Used to seed SMAC. Will determine the output file names.</p></li>
</ul>
</li>
<li><p>memory_limit: Integer</p>
<ul>
<li><p>default: 3072</p></li>
<li><p>Memory limit in MB for the machine learning algorithm. <cite>auto-sklearn</cite> will stop fitting the machine learning algorithm if it tries to allocate more than <cite>memory_limit</cite> MB. If None is provided, no memory limit is set. In case of multi-processing, <cite>memory_limit</cite> will be per job. This memory limit also applies to the ensemble creation process.</p></li>
</ul>
</li>
<li><p>include_estimators: typing.Any</p>
<ul>
<li><p>default: None</p></li>
<li><p>If None, all possible estimators are used. Otherwise specifies set of estimators to use.</p></li>
</ul>
</li>
<li><p>exclude_estimators: typing.Any</p>
<ul>
<li><p>default: None</p></li>
<li><p>If None, all possible estimators are used. Otherwise specifies set of estimators not to use. Incompatible with include_estimators.</p></li>
</ul>
</li>
<li><p>include_preprocessors: typing.Any</p>
<ul>
<li><p>default: None</p></li>
<li><p>If None all possible preprocessors are used. Otherwise specifies set of preprocessors to use.</p></li>
</ul>
</li>
<li><p>exclude_preprocessors: typing.Any</p>
<ul>
<li><p>default: None</p></li>
<li><p>If None all possible preprocessors are used. Otherwise specifies set of preprocessors not to use. Incompatible with include_preprocessors.</p></li>
</ul>
</li>
<li><p>resampling_strategy: String</p>
<ul>
<li><p>default: holdout</p></li>
<li><p>how to to handle overfitting, might need ‘resampling_strategy_arguments’  fit where possible ‘folds’ in scikit-learn model_selection module in scikit-learn model_selection module in scikit-learn model_selection module</p></li>
</ul>
</li>
<li><p>resampling_strategy_arguments: dict</p>
<ul>
<li><p>default: None</p></li>
<li><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">train_size</span></code> should be between 0.0 and 1.0 and represent the proportion of the dataset to include in the train split. * <code class="docutils literal notranslate"><span class="pre">shuffle</span></code> determines whether the data is shuffled prior to splitting it into train and validation.   required by chosen class as specified in scikit-learn documentation. If arguments are not provided, scikit-learn defaults are used. If no defaults are available, an exception is raised. Refer to the ‘n_splits’ argument as ‘folds’.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>tmp_folder: String</p>
<ul>
<li><p>default: None</p></li>
<li><p>folder to store configuration output and log files, if <code class="docutils literal notranslate"><span class="pre">None</span></code> automatically use <code class="docutils literal notranslate"><span class="pre">/tmp/autosklearn_tmp_$pid_$random_number</span></code></p></li>
</ul>
</li>
<li><p>output_folder: String</p>
<ul>
<li><p>default: None</p></li>
<li><p>folder to store predictions for optional test set, if <code class="docutils literal notranslate"><span class="pre">None</span></code> no output will be generated</p></li>
</ul>
</li>
<li><p>delete_tmp_folder_after_terminate: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>remove tmp_folder, when finished. If tmp_folder is None tmp_dir will always be deleted</p></li>
</ul>
</li>
<li><p>delete_output_folder_after_terminate: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>remove output_folder, when finished. If output_folder is None output_dir will always be deleted</p></li>
</ul>
</li>
<li><p>n_jobs: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>The number of jobs to run in parallel for <code class="docutils literal notranslate"><span class="pre">fit()</span></code>. <code class="docutils literal notranslate"><span class="pre">-1</span></code> means using all processors. By default, Auto-sklearn uses a single core for fitting the machine learning model and a single core for fitting an ensemble. Ensemble building is not affected by <code class="docutils literal notranslate"><span class="pre">n_jobs</span></code> but can be controlled by the number of models in the ensemble. In contrast to most scikit-learn models, <code class="docutils literal notranslate"><span class="pre">n_jobs</span></code> given in the constructor is not applied to the <code class="docutils literal notranslate"><span class="pre">predict()</span></code> method. If <code class="docutils literal notranslate"><span class="pre">dask_client</span></code> is None, a new dask client is created.</p></li>
</ul>
</li>
<li><p>dask_client: typing.Any</p>
<ul>
<li><p>default: None</p></li>
<li><p>User-created dask client, can be used to start a dask cluster and then attach auto-sklearn to it.</p></li>
</ul>
</li>
<li><p>disable_evaluator_output: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>If True, disable model and prediction output. Cannot be used together with ensemble building. <code class="docutils literal notranslate"><span class="pre">predict()</span></code> cannot be used when setting this True. Can also be used as a list to pass more fine-grained information on what to save. Allowed elements in the  optimization/validation set, which would later on be used to build an ensemble.</p></li>
</ul>
</li>
<li><p>smac_scenario_args: dict</p>
<ul>
<li><p>default: None</p></li>
<li><p>Additional arguments inserted into the scenario of SMAC. See the for a list of available arguments.</p></li>
</ul>
</li>
<li><p>get_smac_object_callback: typing.Any</p>
<ul>
<li><p>default: None</p></li>
<li><p>Callback function to create an object of class The function must accept the arguments <code class="docutils literal notranslate"><span class="pre">scenario_dict</span></code>, <code class="docutils literal notranslate"><span class="pre">instances</span></code>, <code class="docutils literal notranslate"><span class="pre">num_params</span></code>, <code class="docutils literal notranslate"><span class="pre">runhistory</span></code>, <code class="docutils literal notranslate"><span class="pre">seed</span></code> and <code class="docutils literal notranslate"><span class="pre">ta</span></code>. This is an advanced feature. Use only if you are familiar with</p></li>
</ul>
</li>
<li><p>logging_config: dict</p>
<ul>
<li><p>default: None</p></li>
<li><p>dictionary object specifying the logger configuration. If None, the default logging.yaml file is used, which can be found in the directory <code class="docutils literal notranslate"><span class="pre">util/logging.yaml</span></code> relative to the installation.</p></li>
</ul>
</li>
<li><p>metadata_directory: String</p>
<ul>
<li><p>default: None</p></li>
<li><p>path to the metadata directory. If None, the default directory (autosklearn.metalearning.files) is used.</p></li>
</ul>
</li>
<li><p>metric: typing.Any</p>
<ul>
<li><p>default: None</p></li>
<li><p>Metrics`_. If None is provided, a default metric is selected depending on the task.</p></li>
</ul>
</li>
<li><p>scoring_functions: typing.Any</p>
<ul>
<li><p>default: None</p></li>
<li><p>List of scorers which will be calculated for each pipeline and results will be available via <code class="docutils literal notranslate"><span class="pre">cv_results</span></code></p></li>
</ul>
</li>
<li><p>load_models: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Whether to load the models after fitting Auto-sklearn.</p></li>
</ul>
</li>
</ul>
</section>
<section id="autoregressor">
<span id="plugin-model-dffml-model-autosklearn-autoregressor"></span><h3>autoregressor<a class="headerlink" href="#autoregressor" title="Permalink to this heading">¶</a></h3>
<p><em>Official</em></p>
<p><code class="docutils literal notranslate"><span class="pre">autoregressor</span></code> / <code class="docutils literal notranslate"><span class="pre">AutoSklearnRegressorModel</span></code> will use <code class="docutils literal notranslate"><span class="pre">auto-sklearn</span></code>
to train the a scikit model for you.</p>
<p>This is AutoML, it will tune hyperparameters for you.</p>
<p>Implemented using <a class="reference external" href="https://automl.github.io/auto-sklearn/master/api.html#regression">AutoSklearnRegressor</a>.</p>
<p>First we create the training and testing datasets</p>
<p><strong>train.csv</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Feature1</span><span class="p">,</span><span class="n">Feature2</span><span class="p">,</span><span class="n">TARGET</span>
<span class="mf">0.93</span><span class="p">,</span><span class="mf">0.68</span><span class="p">,</span><span class="mf">3.89</span>
<span class="mf">0.24</span><span class="p">,</span><span class="mf">0.42</span><span class="p">,</span><span class="mf">1.75</span>
<span class="mf">0.36</span><span class="p">,</span><span class="mf">0.68</span><span class="p">,</span><span class="mf">2.75</span>
<span class="mf">0.53</span><span class="p">,</span><span class="mf">0.31</span><span class="p">,</span><span class="mf">2.00</span>
<span class="mf">0.29</span><span class="p">,</span><span class="mf">0.25</span><span class="p">,</span><span class="mf">1.32</span>
<span class="mf">0.29</span><span class="p">,</span><span class="mf">0.52</span><span class="p">,</span><span class="mf">2.14</span>
</pre></div>
</div>
<p><strong>test.csv</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Feature1</span><span class="p">,</span><span class="n">Feature2</span><span class="p">,</span><span class="n">TARGET</span>
<span class="mf">0.57</span><span class="p">,</span><span class="mf">0.84</span><span class="p">,</span><span class="mf">3.65</span>
<span class="mf">0.95</span><span class="p">,</span><span class="mf">0.19</span><span class="p">,</span><span class="mf">2.46</span>
<span class="mf">0.23</span><span class="p">,</span><span class="mf">0.15</span><span class="p">,</span><span class="mf">0.93</span>
</pre></div>
</div>
<p>Train the model</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dffml train <span class="se">\</span>
    -model autoregressor <span class="se">\</span>
    -model-predict TARGET:float:1 <span class="se">\</span>
    -model-clstype int <span class="se">\</span>
    -sources <span class="nv">f</span><span class="o">=</span>csv <span class="se">\</span>
    -source-filename train.csv <span class="se">\</span>
    -model-features <span class="se">\</span>
      Feature1:float:1 <span class="se">\</span>
      Feature2:float:1 <span class="se">\</span>
    -model-time_left_for_this_task <span class="m">120</span> <span class="se">\</span>
    -model-per_run_time_limit <span class="m">30</span> <span class="se">\</span>
    -model-ensemble_size <span class="m">50</span> <span class="se">\</span>
    -model-delete_tmp_folder_after_terminate False <span class="se">\</span>
    -model-location tempdir <span class="se">\</span>
    -log debug
</pre></div>
</div>
<p>Assess the accuracy</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dffml accuracy <span class="se">\</span>
    -model autoregressor <span class="se">\</span>
    -model-predict TARGET:float:1 <span class="se">\</span>
    -model-location tempdir <span class="se">\</span>
    -features TARGET:float:1 <span class="se">\</span>
    -sources <span class="nv">f</span><span class="o">=</span>csv <span class="se">\</span>
    -source-filename test.csv <span class="se">\</span>
    -model-features <span class="se">\</span>
      Feature1:float:1 <span class="se">\</span>
      Feature2:float:1 <span class="se">\</span>
    -scorer mse <span class="se">\</span>
    -log critical
<span class="go">0.9961211434899032</span>
</pre></div>
</div>
<p>Make a file containing the data to predict on</p>
<p><strong>predict.csv</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Feature1</span><span class="p">,</span><span class="n">Feature2</span>
<span class="mf">0.57</span><span class="p">,</span><span class="mf">0.84</span>
</pre></div>
</div>
<p>Make a prediction</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dffml predict all <span class="se">\</span>
    -model autoregressor <span class="se">\</span>
    -model-location tempdir <span class="se">\</span>
    -model-predict TARGET:float:1 <span class="se">\</span>
    -sources <span class="nv">iris</span><span class="o">=</span>csv <span class="se">\</span>
    -model-features <span class="se">\</span>
      Feature1:float:1 <span class="se">\</span>
      Feature2:float:1 <span class="se">\</span>
    -source-filename predict.csv
<span class="go">[</span>
<span class="go">    {</span>
<span class="go">        &quot;extra&quot;: {},</span>
<span class="go">        &quot;features&quot;: {</span>
<span class="go">            &quot;Feature1&quot;: 0.57,</span>
<span class="go">            &quot;Feature2&quot;: 0.84</span>
<span class="go">        },</span>
<span class="go">        &quot;key&quot;: &quot;0&quot;,</span>
<span class="go">        &quot;last_updated&quot;: &quot;2020-11-23T05:52:13Z&quot;,</span>
<span class="go">        &quot;prediction&quot;: {</span>
<span class="go">            &quot;TARGET&quot;: {</span>
<span class="go">                &quot;confidence&quot;: NaN,</span>
<span class="go">                &quot;value&quot;: 3.566799074411392</span>
<span class="go">            }</span>
<span class="go">        }</span>
<span class="go">    }</span>
<span class="go">]</span>
</pre></div>
</div>
<p>The model can be trained on large datasets to get better accuracy
output. The example shown above is to demonstrate the command line usage
of the model.</p>
<p>Example usage of using the model from Python</p>
<p><strong>run.py</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dffml</span> <span class="kn">import</span> <span class="n">Features</span><span class="p">,</span> <span class="n">Feature</span>
<span class="kn">from</span> <span class="nn">dffml.noasync</span> <span class="kn">import</span> <span class="n">train</span><span class="p">,</span> <span class="n">score</span><span class="p">,</span> <span class="n">predict</span>
<span class="kn">from</span> <span class="nn">dffml_model_autosklearn</span> <span class="kn">import</span> <span class="n">AutoSklearnRegressorModel</span>
<span class="kn">from</span> <span class="nn">dffml.accuracy</span> <span class="kn">import</span> <span class="n">MeanSquaredErrorAccuracy</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">AutoSklearnRegressorModel</span><span class="p">(</span>
    <span class="n">features</span><span class="o">=</span><span class="n">Features</span><span class="p">(</span>
        <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;Feature1&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;Feature2&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="p">),</span>
    <span class="n">predict</span><span class="o">=</span><span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;TARGET&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">location</span><span class="o">=</span><span class="s2">&quot;tempdir-python&quot;</span><span class="p">,</span>
    <span class="n">time_left_for_this_task</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span>
<span class="p">)</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="c1"># Train the model</span>
    <span class="n">train</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;train.csv&quot;</span><span class="p">)</span>

    <span class="c1"># Assess accuracy</span>
    <span class="n">scorer</span> <span class="o">=</span> <span class="n">MeanSquaredErrorAccuracy</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span>
        <span class="s2">&quot;Accuracy:&quot;</span><span class="p">,</span>
        <span class="n">score</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">scorer</span><span class="p">,</span> <span class="n">Feature</span><span class="p">(</span><span class="s2">&quot;TARGET&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="s2">&quot;test.csv&quot;</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="c1"># Make prediction</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">features</span><span class="p">,</span> <span class="n">prediction</span> <span class="ow">in</span> <span class="n">predict</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;predict.csv&quot;</span><span class="p">):</span>
        <span class="n">features</span><span class="p">[</span><span class="s2">&quot;TARGET&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">prediction</span><span class="p">[</span><span class="s2">&quot;TARGET&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">features</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
<p>Run the file</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>python run.py
<span class="go">Accuracy: 0.9961211434899032</span>
<span class="go">{&#39;Feature1&#39;: 0.57, &#39;Feature2&#39;: 0.84, &#39;TARGET&#39;: 3.6180416345596313}</span>
</pre></div>
</div>
<p><strong>Args</strong></p>
<ul class="simple">
<li><p>features: List of features</p>
<ul>
<li><p>Features to train on</p></li>
</ul>
</li>
<li><p>predict: Feature</p>
<ul>
<li><p>Label or the value to be predicted</p></li>
</ul>
</li>
<li><p>location: Path</p>
<ul>
<li><p>Location where state should be saved</p></li>
</ul>
</li>
<li><p>time_left_for_this_task: Integer</p>
<ul>
<li><p>default: 3600</p></li>
<li><p>Time limit in seconds for the search of appropriate models. By increasing this value, <em>auto-sklearn</em> has a higher chance of finding better models.</p></li>
</ul>
</li>
<li><p>per_run_time_limit: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>Time limit for a single call to the machine learning model. Model fitting will be terminated if the machine learning algorithm runs over the time limit. Set this value high enough so that typical machine learning algorithms can be fit on the training data.</p></li>
</ul>
</li>
<li><p>initial_configurations_via_metalearning: Integer</p>
<ul>
<li><p>default: 25</p></li>
<li><p>Initialize the hyperparameter optimization algorithm with this many configurations which worked well on previously seen datasets. Disable if the hyperparameter optimization algorithm should start from scratch.</p></li>
</ul>
</li>
<li><p>ensemble_size: Integer</p>
<ul>
<li><p>default: 50</p></li>
<li><p>Number of models added to the ensemble built by <em>Ensemble selection from libraries of models</em>. Models are drawn with replacement.</p></li>
</ul>
</li>
<li><p>ensemble_nbest: Integer</p>
<ul>
<li><p>default: 50</p></li>
<li><p>Only consider the <code class="docutils literal notranslate"><span class="pre">ensemble_nbest</span></code> models when building an ensemble.</p></li>
</ul>
</li>
<li><p>max_models_on_disc: Integer</p>
<ul>
<li><p>default: 50</p></li>
<li><p>Defines the maximum number of models that are kept in the disc. The additional number of models are permanently deleted. Due to the nature of this variable, it sets the upper limit on how many models can be used for an ensemble. It must be an integer greater or equal than 1. If set to None, all models are kept on the disc.</p></li>
</ul>
</li>
<li><p>seed: Integer</p>
<ul>
<li><p>default: 1</p></li>
<li><p>Used to seed SMAC. Will determine the output file names.</p></li>
</ul>
</li>
<li><p>memory_limit: Integer</p>
<ul>
<li><p>default: 3072</p></li>
<li><p>Memory limit in MB for the machine learning algorithm. <cite>auto-sklearn</cite> will stop fitting the machine learning algorithm if it tries to allocate more than <cite>memory_limit</cite> MB. If None is provided, no memory limit is set. In case of multi-processing, <cite>memory_limit</cite> will be per job. This memory limit also applies to the ensemble creation process.</p></li>
</ul>
</li>
<li><p>include_estimators: typing.Any</p>
<ul>
<li><p>default: None</p></li>
<li><p>If None, all possible estimators are used. Otherwise specifies set of estimators to use.</p></li>
</ul>
</li>
<li><p>exclude_estimators: typing.Any</p>
<ul>
<li><p>default: None</p></li>
<li><p>If None, all possible estimators are used. Otherwise specifies set of estimators not to use. Incompatible with include_estimators.</p></li>
</ul>
</li>
<li><p>include_preprocessors: typing.Any</p>
<ul>
<li><p>default: None</p></li>
<li><p>If None all possible preprocessors are used. Otherwise specifies set of preprocessors to use.</p></li>
</ul>
</li>
<li><p>exclude_preprocessors: typing.Any</p>
<ul>
<li><p>default: None</p></li>
<li><p>If None all possible preprocessors are used. Otherwise specifies set of preprocessors not to use. Incompatible with include_preprocessors.</p></li>
</ul>
</li>
<li><p>resampling_strategy: String</p>
<ul>
<li><p>default: holdout</p></li>
<li><p>how to to handle overfitting, might need ‘resampling_strategy_arguments’  fit where possible ‘folds’ in scikit-learn model_selection module in scikit-learn model_selection module in scikit-learn model_selection module</p></li>
</ul>
</li>
<li><p>resampling_strategy_arguments: dict</p>
<ul>
<li><p>default: None</p></li>
<li><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">train_size</span></code> should be between 0.0 and 1.0 and represent the proportion of the dataset to include in the train split. * <code class="docutils literal notranslate"><span class="pre">shuffle</span></code> determines whether the data is shuffled prior to splitting it into train and validation.   required by chosen class as specified in scikit-learn documentation. If arguments are not provided, scikit-learn defaults are used. If no defaults are available, an exception is raised. Refer to the ‘n_splits’ argument as ‘folds’.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>tmp_folder: String</p>
<ul>
<li><p>default: None</p></li>
<li><p>folder to store configuration output and log files, if <code class="docutils literal notranslate"><span class="pre">None</span></code> automatically use <code class="docutils literal notranslate"><span class="pre">/tmp/autosklearn_tmp_$pid_$random_number</span></code></p></li>
</ul>
</li>
<li><p>output_folder: String</p>
<ul>
<li><p>default: None</p></li>
<li><p>folder to store predictions for optional test set, if <code class="docutils literal notranslate"><span class="pre">None</span></code> no output will be generated</p></li>
</ul>
</li>
<li><p>delete_tmp_folder_after_terminate: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>remove tmp_folder, when finished. If tmp_folder is None tmp_dir will always be deleted</p></li>
</ul>
</li>
<li><p>delete_output_folder_after_terminate: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>remove output_folder, when finished. If output_folder is None output_dir will always be deleted</p></li>
</ul>
</li>
<li><p>n_jobs: Integer</p>
<ul>
<li><p>default: None</p></li>
<li><p>The number of jobs to run in parallel for <code class="docutils literal notranslate"><span class="pre">fit()</span></code>. <code class="docutils literal notranslate"><span class="pre">-1</span></code> means using all processors. By default, Auto-sklearn uses a single core for fitting the machine learning model and a single core for fitting an ensemble. Ensemble building is not affected by <code class="docutils literal notranslate"><span class="pre">n_jobs</span></code> but can be controlled by the number of models in the ensemble. In contrast to most scikit-learn models, <code class="docutils literal notranslate"><span class="pre">n_jobs</span></code> given in the constructor is not applied to the <code class="docutils literal notranslate"><span class="pre">predict()</span></code> method. If <code class="docutils literal notranslate"><span class="pre">dask_client</span></code> is None, a new dask client is created.</p></li>
</ul>
</li>
<li><p>dask_client: typing.Any</p>
<ul>
<li><p>default: None</p></li>
<li><p>User-created dask client, can be used to start a dask cluster and then attach auto-sklearn to it.</p></li>
</ul>
</li>
<li><p>disable_evaluator_output: String</p>
<ul>
<li><p>default: False</p></li>
<li><p>If True, disable model and prediction output. Cannot be used together with ensemble building. <code class="docutils literal notranslate"><span class="pre">predict()</span></code> cannot be used when setting this True. Can also be used as a list to pass more fine-grained information on what to save. Allowed elements in the  optimization/validation set, which would later on be used to build an ensemble.</p></li>
</ul>
</li>
<li><p>smac_scenario_args: dict</p>
<ul>
<li><p>default: None</p></li>
<li><p>Additional arguments inserted into the scenario of SMAC. See the for a list of available arguments.</p></li>
</ul>
</li>
<li><p>get_smac_object_callback: typing.Any</p>
<ul>
<li><p>default: None</p></li>
<li><p>Callback function to create an object of class The function must accept the arguments <code class="docutils literal notranslate"><span class="pre">scenario_dict</span></code>, <code class="docutils literal notranslate"><span class="pre">instances</span></code>, <code class="docutils literal notranslate"><span class="pre">num_params</span></code>, <code class="docutils literal notranslate"><span class="pre">runhistory</span></code>, <code class="docutils literal notranslate"><span class="pre">seed</span></code> and <code class="docutils literal notranslate"><span class="pre">ta</span></code>. This is an advanced feature. Use only if you are familiar with</p></li>
</ul>
</li>
<li><p>logging_config: dict</p>
<ul>
<li><p>default: None</p></li>
<li><p>dictionary object specifying the logger configuration. If None, the default logging.yaml file is used, which can be found in the directory <code class="docutils literal notranslate"><span class="pre">util/logging.yaml</span></code> relative to the installation.</p></li>
</ul>
</li>
<li><p>metadata_directory: String</p>
<ul>
<li><p>default: None</p></li>
<li><p>path to the metadata directory. If None, the default directory (autosklearn.metalearning.files) is used.</p></li>
</ul>
</li>
<li><p>metric: typing.Any</p>
<ul>
<li><p>default: None</p></li>
<li><p>Metrics`_. If None is provided, a default metric is selected depending on the task.</p></li>
</ul>
</li>
<li><p>scoring_functions: typing.Any</p>
<ul>
<li><p>default: None</p></li>
<li><p>List of scorers which will be calculated for each pipeline and results will be available via <code class="docutils literal notranslate"><span class="pre">cv_results</span></code></p></li>
</ul>
</li>
<li><p>load_models: String</p>
<ul>
<li><p>default: True</p></li>
<li><p>Whether to load the models after fitting Auto-sklearn.</p></li>
</ul>
</li>
</ul>
</section>
</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="dffml_accuracy.html" class="btn btn-neutral float-right" title="Scorers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="dffml_source.html" class="btn btn-neutral float-left" title="Sources" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2017 - 2022, Intel.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>